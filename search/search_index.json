{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":""},{"location":"#_1","title":"\u3053\u306e\u30b5\u30a4\u30c8\u306b\u3064\u3044\u3066","text":"<p>\u8da3\u5473\u3067\u8abf\u3079\u305f\u5185\u5bb9\u3084\u52d5\u4f5c\u78ba\u8a8d\u306e\u7d50\u679c\u3092\u8a18\u8f09\u3057\u3066\u3044\u307e\u3059\u3002 \u5185\u5bb9\u306b\u3064\u3044\u3066\u4e00\u5207\u306e\u8cac\u4efb\u306f\u8ca0\u3044\u307e\u305b\u3093\u3002 \u88fd\u54c1\u306b\u95a2\u3059\u308b\u554f\u3044\u5408\u308f\u305b\u306f\u30e1\u30fc\u30ab\u30fc\u306b\u3054\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"#_2","title":"\u8457\u8005\u306b\u3064\u3044\u3066","text":"<p>SIer \u306b\u3066\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3001\u30b5\u30fc\u30d0\u30fc\u306a\u3069\u306e\u8a2d\u8a08\u304b\u3089\u69cb\u7bc9\u3001\u904b\u7528\u3092\u7d4c\u9a13\u3001\u305d\u306e\u5f8c\u3001\u30d7\u30ea\u30bb\u30fc\u30eb\u30b9\u30a8\u30f3\u30b8\u30cb\u30a2\u3068\u3057\u3066\u6d3b\u52d5\u4e2d\u3002</p>"},{"location":"sample/","title":"sample page","text":""},{"location":"sample/#external-link","title":"External Link","text":"<p><code>&lt;a href=\"\u30ea\u30f3\u30af\u5148URL\" target=\"_blank\" rel=\"noopener noreferrer\"&gt;\u65b0\u898f\u30bf\u30d6\u3067\u958b\u304f&lt;/a&gt;</code></p>"},{"location":"sample/#photo-link","title":"Photo Link","text":"<p><code>![Image title](https://dummyimage.com/600x400/eee/aaa)</code> </p>"},{"location":"sample/#header","title":"Header","text":""},{"location":"sample/#admonition","title":"admonition","text":"<p>Note</p> <p>sample</p> <p>Tip</p> <p>sample</p> <p>Warning</p> <p>sample</p> <p>Danger</p> <p>sample</p> Unordered listOrdered list <ul> <li>List 1</li> <li>List 2</li> <li>List 3</li> </ul> <ol> <li>List 1</li> <li>List 2</li> <li>List 3</li> </ol>"},{"location":"junos/fbf/","title":"Fillter-Based Forwarding (FBF)","text":"<p>\u30d5\u30a3\u30eb\u30bf\u30fc\u30d9\u30fc\u30b9\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0 (FBF) \u306f\u901a\u5e38\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30c6\u30fc\u30d6\u30eb\u306e\u7d4c\u8def\u4ee5\u5916\u306b\u30d1\u30b1\u30c3\u30c8\u3092\u8ee2\u9001\u3057\u305f\u3044\u5834\u5408\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002\u307b\u304b\u306e\u30d9\u30f3\u30c0\u30fc\u3067\u3044\u3046\u3068\u3053\u308d\u306e PBR \u306e\u3053\u3068\u3067\u3059\u3002 \u30d5\u30a3\u30eb\u30bf\u306e\u6761\u4ef6\u306b\u306f\u9001\u4fe1\u5143 IP \u30a2\u30c9\u30ec\u30b9\u3001\u5b9b\u5148 IP \u30a2\u30c9\u30ec\u30b9\u3001\u9001\u4fe1\u5143\u30dd\u30fc\u30c8\u756a\u53f7\u3001\u5b9b\u5148\u30dd\u30fc\u30c8\u756a\u53f7\u3001IP \u30d7\u30ed\u30c8\u30b3\u30eb\u3001DSCP \u5024\u3001TCP \u30d5\u30e9\u30b0\u306a\u3069\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002</p> <p>FBF \u306f L3 \u304a\u3088\u3073 L4 \u3067\u306e\u51e6\u7406\u3068\u306a\u308b\u305f\u3081\u3001URL \u3084 FQDN \u3067\u306e\u30d6\u30ec\u30fc\u30af\u30a2\u30a6\u30c8\u306f\u3067\u304d\u307e\u305b\u3093\u3002FQDN \u3067\u306e\u5236\u5fa1\u304c\u5fc5\u8981\u306a\u5834\u5408\u3001SRX \u3067\u306f APBR \u3092\u4f7f\u7528\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"junos/fbf/#_1","title":"\u8a2d\u5b9a\u306e\u6d41\u308c","text":"<ul> <li>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u4f5c\u6210</li> <li>\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306e\u30a4\u30f3\u30dd\u30fc\u30c8</li> <li>\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u30d5\u30a3\u30eb\u30bf\u306e\u5b9a\u7fa9</li> <li>\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3078\u306e\u9069\u7528</li> </ul>"},{"location":"junos/fbf/#_2","title":"\u8a2d\u5b9a\u30b5\u30f3\u30d7\u30eb","text":"<p>\u9001\u4fe1\u5143\u30a2\u30c9\u30ec\u30b9\u3067 next-hop \u3092\u5909\u3048\u305f\u3044\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8a2d\u5b9a\u306b\u306a\u308a\u307e\u3059\u3002</p> <p>Router1 \u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30eb\u30fc\u30c8\u304c Router2 \u306b\u306a\u3063\u3066\u3044\u308b\u5834\u5408\u306b\u3001\u9001\u4fe1\u5143\u304c PC1(10.1.0.2) \u306e\u30c8\u30e9\u30d5\u30a3\u30c3\u30af\u3092 Router3 \u7d4c\u7531\u3067\u8ee2\u9001\u3059\u308b\u5834\u5408\u3092\u60f3\u5b9a\u3057\u307e\u3059\u3002 \u5404\u30eb\u30fc\u30bf\u306e\u7d4c\u8def\u306f\u8a2d\u5b9a\u6e08\u307f\u3067\u758e\u901a\u3067\u304d\u308b\u3082\u306e\u3068\u3057\u307e\u3059\u3002</p> <p></p> <pre><code>set interfaces ge-0/0/0 unit 0 family inet address 192.168.1.1/24\nset interfaces ge-0/0/1 unit 0 family inet address 192.168.2.1/24\nset interfaces ge-0/0/2 unit 0 family inet filter input FILTER-FBF\nset interfaces ge-0/0/2 unit 0 family inet address 10.1.0.1/24\nset interfaces ge-0/0/3 unit 0 family inet address 10.2.0.1/24\nset firewall family inet filter FILTER-FBF term 1 from source-address 10.1.0.0/24\nset firewall family inet filter FILTER-FBF term 1 then routing-instance INSTANCE-FBF\nset firewall family inet filter FILTER-FBF term 2 then accept\nset routing-instances INSTANCE-FBF instance-type forwarding\nset routing-instances INSTANCE-FBF routing-options static route 0.0.0.0/0 next-hop 192.168.2.2\nset routing-options interface-routes rib-group inet FBF\nset routing-options static route 0.0.0.0/0 next-hop 192.168.1.2\nset routing-options rib-groups FBF import-rib inet.0\nset routing-options rib-groups FBF import-rib INSTANCE-FBF.inet.0\n</code></pre>"},{"location":"junos/fbf/#_3","title":"\u8aac\u660e","text":"<p>\u5bfe\u8c61\u306e next-hop \u5c02\u7528\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u3001\u7d4c\u8def\u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3001\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u30d5\u30a3\u30eb\u30bf\u30fc\u3067\u5bfe\u8c61\u306e\u30d1\u30b1\u30c3\u30c8\u3092\u6307\u5b9a\u3057\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u9069\u7528\u3059\u308b\u6d41\u308c\u3068\u306a\u308a\u307e\u3059\u3002</p> <p>forwarding \u5c02\u7528\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u4f5c\u6210\u3057\u3001next-hop \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 <pre><code>set routing-instances INSTANCE-FBF instance-type forwarding\nset routing-instances INSTANCE-FBF routing-options static route 0.0.0.0/0 next-hop 192.168.2.2\n</code></pre></p> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9 (inet.0) \u306b INSTANCE-FBF \u304b\u3089 RIB \u3092\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002 <pre><code>set routing-options interface-routes rib-group inet FBF\nset routing-options rib-groups FBF import-rib inet.0\nset routing-options rib-groups FBF import-rib INSTANCE-FBF.inet.0\n</code></pre></p> <p>\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u30d5\u30a3\u30eb\u30bf\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u9001\u4fe1\u5143\u30a2\u30c9\u30ec\u30b9\u304c 10.1.0.0/24 \u306e\u5834\u5408\u3001INSTANCE-FBF \u306b\u8ee2\u9001\u3059\u308b\u30d5\u30a3\u30eb\u30bf\u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u4ed6\u306e\u30d1\u30b1\u30c3\u30c8\u304c\u6697\u9ed9\u306e Deny \u306b\u306a\u3089\u306a\u3044\u3088\u3046\u306b term 2 \u3067 accept \u3057\u3066\u3044\u307e\u3059\u3002 <pre><code>set firewall family inet filter FILTER-FBF term 1 from source-address 10.1.0.0/24\nset firewall family inet filter FILTER-FBF term 1 then routing-instance INSTANCE-FBF\nset firewall family inet filter FILTER-FBF term 2 then accept\n</code></pre></p> <p>\u30d1\u30b1\u30c3\u30c8\u3092\u53d7\u4fe1\u3059\u308b\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u5bfe\u3057\u3066\u30d5\u30a1\u30a4\u30a2\u30a6\u30a9\u30fc\u30eb\u30d5\u30a3\u30eb\u30bf\u3092\u9069\u7528\u3057\u307e\u3059\u3002 <pre><code>set interfaces ge-0/0/2 unit 0 family inet filter input FILTER-FBF\nset interfaces ge-0/0/2 unit 0 family inet address 10.1.0.1/24\n</code></pre></p>"},{"location":"junos/fbf/#_4","title":"\u78ba\u8a8d","text":"<p>PC \u304b\u3089 traceroute \u3067\u78ba\u8a8d\u3057\u307e\u3059\u3002</p> <p></p> <p></p>"},{"location":"junos/fbf/#_5","title":"\u53c2\u8003\u6587\u732e","text":"<p>https://www.juniper.net/documentation/jp/ja/software/junos/routing-policy/topics/example/filter-based-forwarding-example.html</p>"},{"location":"junos/fundamental/","title":"\u57fa\u672c\u8a2d\u5b9a","text":"<p>root\uff08\u7ba1\u7406\u8005\uff09\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3001\u30db\u30b9\u30c8\u540d\u3001\u7ba1\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u8a18\u8f09\u3057\u307e\u3059\u3002</p> <p>\u5404\u968e\u5c64\u3067\u8a2d\u5b9a\u53ef\u80fd\u306a\u30b3\u30de\u30f3\u30c9\u306f <code>?</code> \u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 <pre><code>root@vSRX-01&gt; configure\nEntering configuration mode\n\n[edit]\nroot@vSRX-01# set system ?\nPossible completions:\n&gt; accounting           System accounting configuration\n  allow-6pe-traceroute  Allow IPv4-mapped v6 address in tag icmp6 TTL expired packet\n  allow-6vpe-traceroute-src-select  Select best src addr for icmp6 ttl expiry error in case 6vpe\n  allow-l3vpn-traceroute-src-select  Select best src addr for icmp ttl expiry error in case l3vpn\n  allow-v4mapped-packets  Allow processing for packets with V4 mapped address\n+ apply-groups         Groups from which to inherit configuration data\n(\u7701\u7565)\n</code></pre></p>"},{"location":"junos/fundamental/#root","title":"root \u30d1\u30b9\u30ef\u30fc\u30c9","text":"<p>root \u30a2\u30ab\u30a6\u30f3\u30c8\u306f Junos \u3067\u3042\u3089\u304b\u3058\u3081\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u30e6\u30fc\u30b6\u30fc\u3067\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u30b9\u30fc\u30d1\u30fc\u30e6\u30fc\u30b6\u30fc\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u304a\u308a\u3001\u3059\u3079\u3066\u306e\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u304c\u4e0e\u3048\u3089\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>\u5de5\u5834\u51fa\u8377\u6642\u3084\u521d\u671f\u5316\u5f8c\u306a\u3069\u3001root \u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u305b\u3063\u3066\u8996\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001commit \u3059\u308b\u524d\u306b root \u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002 <pre><code># set system root-authentication plain-text-password\nNew password:\nRetype new password:\n</code></pre> plain-text-password \u3068\u306a\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u6697\u53f7\u5316\u3055\u308c\u3066\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002</p> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u8981\u4ef6\u306f 6 \u6587\u5b57\u4ee5\u4e0a\u3067\u3059\u3002 \u6761\u4ef6\u3092\u6e80\u305f\u3055\u306a\u3044\u5834\u5408\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 <pre><code>error: minimum password length is 6\nerror: require change of case, digits or punctuation\n</code></pre></p> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f root \u30ed\u30b0\u30a4\u30f3\u306f\u30b3\u30f3\u30bd\u30fc\u30eb\u30dd\u30fc\u30c8\u304b\u3089\u306e\u307f\u8a31\u53ef\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u5fc5\u8981\u306b\u5fdc\u3058\u3066 ssh \u3067\u306e root \u30ed\u30b0\u30a4\u30f3\u8a31\u53ef\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002 allow, deny, deny-password \u3092\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002 <pre><code># set system services ssh root-login allow\n</code></pre></p> <p>\u516c\u958b\u9375\u3092\u7528\u3044\u305f SSH \u63a5\u7d9a\u3092\u884c\u3046\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u516c\u958b\u9375\u306e\u767b\u9332\u3092\u884c\u3044\u307e\u3059\u3002</p> <pre><code># set system root-authentication ssh-rsa KEY-STRING\n</code></pre> <p>ssh-rsa, ssh-ecdsa, ssh-ed25519 \u304c\u8a2d\u5b9a\u53ef\u80fd\u3067\u3059\u3002</p>"},{"location":"junos/fundamental/#_2","title":"\u30db\u30b9\u30c8\u540d","text":"<p>\u30c7\u30d0\u30a4\u30b9\u306e\u30db\u30b9\u30c8\u540d\u306f\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p> <pre><code># set system host-name HOSTNAME\n</code></pre> <p>\u8a2d\u5b9a\u3055\u308c\u305f\u30db\u30b9\u30c8\u540d\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <pre><code>root# set system host-name vSRX-01\n\n[edit]\nroot# commit\ncommit complete\n\n[edit]\nroot@vSRX-01#\n</code></pre>"},{"location":"junos/fundamental/#_3","title":"\u7ba1\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9","text":"<p>\u7ba1\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f SSH \u3084 Telnet \u3067\u30c7\u30d0\u30a4\u30b9\u306b\u30ea\u30e2\u30fc\u30c8\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u3059\u3002 \u591a\u304f\u306e Juniper \u88fd\u54c1\u3067\u306f\u5c02\u7528\u306e\u7ba1\u7406\u30dd\u30fc\u30c8\u3092\u642d\u8f09\u3057\u3066\u304a\u308a\u3001OOBM (Out-of-Band Management) \u3068\u547c\u3070\u308c\u307e\u3059\u3002</p> <p>\u901a\u5e38\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e1\u3064\u3092\u7ba1\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3068\u3057\u3066\u8a2d\u5b9a\u3067\u304d\u308b\u3082\u306e\u3082\u3042\u308a\u307e\u3059\u3002 \u7ba1\u7406\u30dd\u30fc\u30c8\u3092\u4f7f\u7528\u3059\u308b\u306b\u306f\u3001\u7ba1\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3068\u3057\u3066 IP \u30a2\u30c9\u30ec\u30b9\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p> <pre><code># set interface fxp0 unit 0 family inet address 172.16.11.22/24\n</code></pre> <p>\u7ba1\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u540d\u306f\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306b\u3088\u3063\u3066\u7570\u306a\u308a\u307e\u3059\u3002</p> \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0 \u7ba1\u7406\u30dd\u30fc\u30c8 EX \u30b7\u30ea\u30fc\u30ba me0, vme QFX \u30b7\u30ea\u30fc\u30ba em0, vme MX \u30b7\u30ea\u30fc\u30ba fxp0 SRX \u30b7\u30ea\u30fc\u30ba fxp0, ge-0/0/0 Junos Evolved \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0 re0:mgmt-* \u306a\u3069 <p>\u8a73\u7d30\u306f \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u3092\u3054\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"junos/fundamental/#dns","title":"DNS \u30b5\u30fc\u30d0\u30fc\u306e\u8a2d\u5b9a","text":"<p>DNS \u30b5\u30fc\u30d0\u30fc\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u304f\u3053\u3068\u3067\u30db\u30b9\u30c8\u540d\u3067\u307b\u304b\u306e\u6a5f\u5668\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 DNS \u30b5\u30fc\u30d0\u30fc\u306f\u8907\u6570\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002 <pre><code># set system name-server 172.17.1.53\n# set system name-server 172.17.1.54\n</code></pre></p> <p>\u30c7\u30d0\u30a4\u30b9\u81ea\u4f53\u304c\u6240\u5c5e\u3059\u308b\u30c9\u30e1\u30a4\u30f3\u540d\u3092\u8a2d\u5b9a\u304c\u63a8\u5968\u3055\u308c\u307e\u3059\u3002 <code>example.com</code> \u306e\u5834\u5408\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002</p> <p><pre><code># set system domain-name example.com\n</code></pre> \u30db\u30b9\u30c8\u540d\u3092\u89e3\u6c7a\u3059\u308b\u969b\u306b\u3001<code>example.com</code>, <code>nw.example.com</code> \u306e\u9806\u3067\u30c9\u30e1\u30a4\u30f3\u540d\u3092\u691c\u7d22\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002 <pre><code># set system domain-search [example.com nw.example.com]\n</code></pre> \u30db\u30b9\u30c8\u540d\u3001IP \u30a2\u30c9\u30ec\u30b9\u304c\u89e3\u6c7a\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 <pre><code>&gt; show host 172.16.10.10\n&gt; show host juniper1\n</code></pre></p>"},{"location":"junos/fundamental/#_4","title":"\u65e5\u4ed8\u3001\u6642\u523b\u3001\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a","text":""},{"location":"junos/fundamental/#ntp","title":"NTP \u30b5\u30fc\u30d0\u30fc\u306e\u8a2d\u5b9a","text":"<p>Junos \u306e\u8d77\u52d5\u6642\u306b\u6642\u523b\u3092\u53d6\u5f97\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066 NTP \u30b5\u30fc\u30d0\u30fc\u306e IP \u30a2\u30c9\u30ec\u30b9\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 <pre><code># set system ntp boot-server 172.17.1.123\n</code></pre> \u5b9a\u671f\u7684\u306b\u6642\u523b\u540c\u671f\u3092\u884c\u3046\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002\uff08\u8907\u6570\u8a2d\u5b9a\u53ef\u80fd\uff09 <pre><code># set system ntp server 172.16.1.123 prefer \n# set system ntp server 172.17.1.123\n</code></pre> \u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f UTC \u3067\u3059\u3002 <pre><code># set system time-zone Asia/Tokyo\n</code></pre> \u6307\u5b9a\u3067\u304d\u308b\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u306e\u4e00\u89a7\u306f ? \u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 <pre><code># set system time-zone ?\nPossible completions:\n  &lt;time-zone&gt;          Time zone name or POSIX-compliant time zone string\n  Africa/Abidjan       \n  Africa/Accra         \n  Africa/Addis_Ababa   \n  Africa/Algiers       \n  Africa/Asmara\n  ...\n</code></pre> GTM (UTC) \u304b\u3089\u306e\u30aa\u30d5\u30bb\u30c3\u30c8 (-14 ~ +12) \u3067\u30bf\u30a4\u30e0\u30be\u30fc\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002 <pre><code># set system time-zone GMT+9 \n</code></pre></p>"},{"location":"junos/fundamental/#_5","title":"\u8a2d\u5b9a\u306e\u78ba\u8a8d","text":"<p>\u30b7\u30b9\u30c6\u30e0\u306e\u6642\u523b\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f Operational \u30e2\u30fc\u30c9\u3067 <code>show system uptime</code> \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 <pre><code>&gt; show system uptime \nCurrent time: 2022-10-17 12:01:07 UTC\nTime Source:  LOCAL CLOCK \nSystem booted: 2022-10-13 01:06:41 UTC (4d 10:54 ago)\nProtocols started: 2022-10-13 01:10:39 UTC (4d 10:50 ago)\nLast configured: 2022-10-17 10:53:32 UTC (01:07:35 ago) by root\n12:01PM  up 4 days, 10:54, 2 users, load averages: 1.30, 1.56, 1.49\n</code></pre></p> <p>NTP \u30b5\u30fc\u30d0\u30fc\u306e\u540c\u671f\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001<code>show ntp associations</code> \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u30a2\u30b9\u30bf\u30ea\u30b9\u30af\u304c\u540c\u671f\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d0\u3092\u8868\u3057\u307e\u3059\u3002 <pre><code>&gt; show ntp associations \n   remote         refid           auth st t when poll reach   delay   offset  jitter\n====================================================================================\n*ntp-a2.nict.go.jp\n                  .NICT.             -  1 -  665 1024  377    6.082   -8.141   0.153\n</code></pre></p>"},{"location":"junos/fundamental/#_6","title":"\u30ed\u30fc\u30ab\u30eb\u3067\u6642\u523b\u3092\u8a2d\u5b9a\u3059\u308b\u5834\u5408","text":"<p>\u901a\u5e38\u306f NTP \u30b5\u30fc\u30d0\u30fc\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u304c\u3001\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044\u3088\u3046\u306a\u5834\u5408\u306f YYYYMMDDhhmm.ss \u306e\u5f62\u5f0f\u3067\u3001\u30aa\u30f3\u30dc\u30fc\u30c9\u306e\u30af\u30ed\u30c3\u30af\u3092\u4f7f\u7528\u3057\u3066\u6642\u523b\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 <pre><code>set date 202204290550.00\n</code></pre></p>"},{"location":"junos/fundamental/#rescue-config","title":"rescue config \u306b\u3064\u3044\u3066","text":"<p>rescue config \u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u72b6\u614b\u3068\u3057\u3066\u6b8b\u3057\u3066\u304a\u304d\u305f\u3044\u30b3\u30f3\u30d5\u30a3\u30b0\u3084\u7dca\u6025\u6642\u306b\u9069\u7528\u3057\u305f\u3044\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u4fdd\u5b58\u3067\u304d\u307e\u3059\u3002 rescue config \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u6a5f\u5668\u306e ALERM LED \u304c\u30aa\u30ec\u30f3\u30b8\u70b9\u706f\u3057\u307e\u3059\u3002 <pre><code>&gt; request system configuration rescue save\n</code></pre></p> <p>\u78ba\u8a8d\u30b3\u30de\u30f3\u30c9 <pre><code>&gt; show system configuration rescue\n</code></pre></p> <p>rescue config \u306b\u623b\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 <pre><code>[edit]\n# rollback rescue\n</code></pre></p> <p>\u307e\u305f\u3001\u6a5f\u5668\u306b RESET CONFIG \u30dc\u30bf\u30f3\u304c\u3042\u308b\u5834\u5408\u3001\u30dc\u30bf\u30f3\u3092\u77ed\u304f\u62bc\u3059\u3053\u3068\u3067 rescue config \u306b\u623b\u3059\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u300215 \u79d2\u4ee5\u4e0a\u62bc\u3059\u3068\u521d\u671f\u5316\u3055\u308c\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>rescue config\u3092\u524a\u9664\u3059\u308b\u5834\u5408\u3001\u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <pre><code>&gt; request system configuration rescue delete\n</code></pre>"},{"location":"junos/fundamental/#_7","title":"\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u8a2d\u5b9a","text":""},{"location":"junos/fundamental/#_8","title":"\u7269\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u540d\u524d","text":"<p>Junos \u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306f ge-0/0/1 \u306a\u3069\u3067\u8868\u8a18\u3055\u308c\u307e\u3059\u3002 \u3053\u308c\u306f \"\u8b58\u5225\u5b50-\u30b9\u30ed\u30c3\u30c8/PIC/\u30dd\u30fc\u30c8\" \u306e\u5f62\u5f0f\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002</p> <p>\u8b58\u5225\u5b50 : ge(gigabit ethernet) \u3084 xe(10Gbit ethernet) \u306a\u3069\u3002 \u30b9\u30ed\u30c3\u30c8: \u56fa\u5b9a\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5834\u5408\u3001\u901a\u5e38 0 \u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u307e\u3059\u3002\u30b7\u30e3\u30fc\u30b7\u578b\u306a\u3069\u30cf\u30a4\u30a8\u30f3\u30c9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3067\u306f FPC (Flexible PIC Concentrator) \u57fa\u76e4\u306e\u30b9\u30ed\u30c3\u30c8\u756a\u53f7\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u307e\u3059\u3002 PIC : \u30b9\u30ed\u30c3\u30c8\u5185\u306e PIC(\u7269\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u30ab\u30fc\u30c9) \u306e\u4f4d\u7f6e\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 \u30dd\u30fc\u30c8 : \u30dd\u30fc\u30c8\u756a\u53f7\u3092\u793a\u3057\u307e\u3059\u3002</p>"},{"location":"junos/fundamental/#_9","title":"\u8ad6\u7406\u30e6\u30cb\u30c3\u30c8","text":"<p>\u7269\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u8ad6\u7406\u7684\u306b\u8907\u6570\u306b\u5206\u5272\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u3053\u306e\u8ad6\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u30e6\u30cb\u30c3\u30c8\u3068\u547c\u3073\u307e\u3059\u3002\u5404\u7269\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b1\u3064\u4ee5\u4e0a\u306e\u8ad6\u7406\u30e6\u30cb\u30c3\u30c8\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002 \u8ad6\u7406\u30e6\u30cb\u30c3\u30c8\u306f <code>ge-0/0/1.0</code> \u306e\u3088\u3046\u306b\u8868\u8a18\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"junos/fundamental/#ip","title":"IP \u306e\u8a2d\u5b9a","text":"<p>IP \u30a2\u30c9\u30ec\u30b9\u306e\u8a2d\u5b9a\u306f\u6b21\u306e\u3088\u3046\u306a\u30b3\u30de\u30f3\u30c9\u306b\u306a\u308a\u307e\u3059\u3002 <pre><code># set interfaces ge-0/0/1 unit 0 family inet address 192.168.11.1/24\n</code></pre> ge-0/0/1 : \u7269\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u540d\u524d\u3002 unit 0 : \u8ad6\u7406\u30e6\u30cb\u30c3\u30c8\u3002 family inet : \u8ad6\u7406\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3067\u4f7f\u7528\u3059\u308b\u30d7\u30ed\u30c8\u30b3\u30eb\u3002ipv4 \u306f inet  address : \u30a2\u30c9\u30ec\u30b9\u3002</p> <p>\u307e\u305f\u3001\u8ad6\u7406\u30e6\u30cb\u30c3\u30c8\u3092\u7701\u7565\u8868\u8a18\u306b\u3057\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8868\u3059\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 <pre><code># set interfaces ge-0/0/1.0 family inet address 192.168.11.1/24\n</code></pre></p> <p>Operational \u30e2\u30fc\u30c9\u3067\u306e\u78ba\u8a8d <pre><code>&gt; show configuration interfaces ge-0/0/1 \nunit 0 {\n    family inet {\n        address 192.168.11.1/24;\n    }\n}\n</code></pre></p> <p>\u8868\u793a\u3055\u308c\u305f\u7d50\u679c\u306f\u8907\u6570\u884c\u3067\u8868\u793a\u3055\u308c\u307e\u3059\u3002set \u30b3\u30de\u30f3\u30c9\u306e\u5f62\u5f0f\u3067\u8868\u793a\u3057\u305f\u3044\u5834\u5408\u3001<code>| display set</code> \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 <pre><code>&gt; show configuration interfaces ge-0/0/1 | display set \nset interfaces ge-0/0/1 unit 0 family inet address 192.168.11.1/24\n</code></pre></p>"},{"location":"junos/fundamental/#_10","title":"\u30e9\u30a4\u30bb\u30f3\u30b9\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>SRX \u30b7\u30ea\u30fc\u30ba\u306f\u8ffd\u52a0\u306e\u30e9\u30a4\u30bb\u30f3\u30b9\u3067\u6a5f\u80fd\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30e9\u30a4\u30bb\u30f3\u30b9\u6295\u5165\u306f\u30d5\u30a1\u30a4\u30eb\u3092\u8ee2\u9001\u3057\u3066\u304b\u3089\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u3066\u8aad\u307f\u8fbc\u3080\u65b9\u6cd5\u3068\u3001\u30e9\u30a4\u30bb\u30f3\u30b9\u30d5\u30a1\u30a4\u30eb\u5185\u306e\u6587\u5b57\u5217\u3092\u30bf\u30fc\u30df\u30ca\u30eb\u304b\u3089\u5165\u529b\u3059\u308b\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>&gt; request system license add terminal    \n[Type ^D at a new line to end input,\n enter blank line between each license key]\n</code></pre>"},{"location":"junos/fundamental/#_11","title":"\u30e9\u30a4\u30bb\u30f3\u30b9\u306e\u78ba\u8a8d","text":"<p>\u73fe\u5728\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u30e9\u30a4\u30bb\u30f3\u30b9\u306f\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 <pre><code>&gt; show system license \nLicense usage: \n                                 Licenses     Licenses    Licenses    Expiry\n  Feature name                       used    installed      needed \n  Virtual Appliance                     1            1           0    2022-12-12 01:10:42 UTC\n  remote-access-ipsec-vpn-client        0            2           0    permanent\n  remote-access-juniper-std             0            2           0    permanent\n  VCPU Scale                            2            2           0    2022-12-12 01:10:42 UTC\n\nLicenses installed: \n  License identifier: E20210617001\n  License version: 4\n  Order Type: trial\n  Software Serial Number: 061520210001\n  Customer ID: vSRX-JuniperEval\n  Features:\n    Virtual Appliance - Virtual Appliance\n      date-based, 2022-10-13 01:10:42 UTC - 2022-12-12 01:10:42 UTC\n    VCPU Scale       - VCPU number scale\n      date-based, 2022-10-13 01:10:42 UTC - 2022-12-12 01:10:42 UTC\n\n  License identifier: E20210617002\n  License version: 4\n  Order Type: trial\n  Software Serial Number: 061520210002\n  Customer ID: vSRX-JuniperEval\n  Features:\n    VCPU Scale       - VCPU number scale\n      date-based, 2022-10-13 01:10:42 UTC - 2022-12-12 01:10:42 UTC\n</code></pre></p>"},{"location":"junos/fundamental/#_12","title":"\u30e6\u30fc\u30b6\u30fc\u7ba1\u7406","text":""},{"location":"junos/fundamental/#_13","title":"\u30ed\u30b0\u30a4\u30f3\u30d0\u30ca\u30fc\u306e\u8a2d\u5b9a","text":"<p>\u30ed\u30b0\u30a4\u30f3\u30d0\u30ca\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u3001\u30e6\u30fc\u30b6\u30fc\u304c SSH \u306a\u3069\u3067\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u969b\u306b\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30ed\u30b0\u30a4\u30f3\u30e1\u30c3\u30bb\u30fc\u30b8\u306f\u63a5\u7d9a\u3055\u308c\u305f\u969b\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002 <pre><code>set system login message \"Welcome \\n to Junos World.\\n\"\n</code></pre></p> <p>\u30ed\u30b0\u30a4\u30f3\u30a2\u30ca\u30a6\u30f3\u30b9\u306f\u30ed\u30b0\u30a4\u30f3\u5f8c\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u30db\u30b9\u30c8\u540d\u3084 IP \u30a2\u30c9\u30ec\u30b9\u3001\u8b66\u544a\u6587\u306a\u3069\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u591a\u3044\u3067\u3059\u3002</p> <pre><code>set system login announcement \"Login Success.\"\n</code></pre>"},{"location":"junos/fundamental/#_14","title":"\u30ed\u30b0\u30a4\u30f3\u30a2\u30ab\u30a6\u30f3\u30c8","text":"<p>Junos \u3067\u306f\u30ed\u30fc\u30ab\u30eb\u30e6\u30fc\u30b6\u30fc\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3001RADIUS \u307e\u305f\u306f TACACS+  \u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u4f7f\u7528\u3057\u305f\u30ea\u30e2\u30fc\u30c8\u30b5\u30fc\u30d0\u306b\u3088\u308b\u8a8d\u8a3c\u3067\u30e6\u30fc\u30b6\u30fc\u306e\u7ba1\u7406\u3092\u884c\u3044\u307e\u3059\u3002</p>"},{"location":"junos/fundamental/#_15","title":"\u30e6\u30fc\u30b6\u30fc\u306e\u4f5c\u6210","text":"<p><pre><code># set system login user USERNAME class super-user \n</code></pre> \u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u8a2d\u5b9a <pre><code># set system login user USERNAME authentication plain-text-password\n</code></pre> \u30d5\u30eb\u30cd\u30fc\u30e0\u3084 UID \u3092\u6307\u5b9a\u3057\u3066\u4f5c\u6210\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002</p>"},{"location":"junos/fundamental/#_16","title":"\u30ed\u30b0\u30a4\u30f3\u30af\u30e9\u30b9","text":"<p>\u30e6\u30fc\u30b6\u30fc\u306f\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306b\u3088\u3063\u3066\u30ed\u30b0\u30a4\u30f3\u30af\u30e9\u30b9\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <ul> <li>super-user : \u3059\u3079\u3066\u306e\u6a29\u9650</li> <li>operator : \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306e\u30af\u30ea\u30a2\u3001\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3001\u30ea\u30bb\u30c3\u30c8\u3001\u30c8\u30ec\u30fc\u30b9\u3001\u304a\u3088\u3073\u53c2\u7167</li> <li>read-only : \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306e\u53c2\u7167</li> <li>unauthorized : \u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306a\u3057</li> </ul> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u4e0a\u8a18\u306e4\u30af\u30e9\u30b9\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001\u3055\u3089\u306b\u8a73\u7d30\u306a\u6a29\u9650\u7ba1\u7406\u3092\u884c\u3044\u305f\u3044\u5834\u5408\u3001 \u30ab\u30b9\u30bf\u30e0\u30ed\u30b0\u30a4\u30f3\u30af\u30e9\u30b9\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p>"},{"location":"junos/fundamental/#_17","title":"\u30ea\u30e2\u30fc\u30c8\u8a8d\u8a3c\u306e\u8a2d\u5b9a","text":"<p>RADIUS \u30b5\u30fc\u30d0\u30fc\u306e\u6307\u5b9a <pre><code># set system radius-server 172.16.18.12\n# set system radius-server 172.16.18.12 port 1812\n# set system radius-server 172.16.18.12 seccret Juniper!1\n</code></pre></p> <p>TACACS+ \u30b5\u30fc\u30d0\u30fc\u306e\u8a2d\u5b9a</p> <pre><code># set system tacplus-server 172.16.27.49\n# set system tacplus-server 172.16.27.49 port 49\n# set system tacplus-server 172.16.27.49 secret Juniper!1\n</code></pre> <p>\u8a8d\u8a3c\u3092\u8a66\u884c\u3059\u308b\u9806\u5e8f\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 <pre><code>set system authentication-order [radius tacplus password]\n</code></pre> \u3053\u306e\u4f8b\u3067\u306f RADIUS \u30b5\u30fc\u30d0\u3068 TACACS+ \u306e\u4e21\u65b9\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u304a\u308a\u3001 \u307e\u305a RADIUS \u30b5\u30fc\u30d0\u306b\u8a8d\u8a3c\u3092\u5b9f\u65bd\u3057\u3001\u5931\u6557\u3057\u305f\u5834\u5408\u6b21\u306b TACACS+ \u30b5\u30fc\u30d0\u30fc\u3001 \u6700\u5f8c\u306b\u30ed\u30fc\u30ab\u30eb\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b\u30e6\u30fc\u30b6\u30fc\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p>"},{"location":"junos/fundamental/#_18","title":"\u30ea\u30e2\u30fc\u30c8\u30a2\u30af\u30bb\u30b9\u306e\u6709\u52b9\u5316","text":"<p>SSH \u3084 Telnet \u306b\u3088\u308b\u30c7\u30d0\u30a4\u30b9\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u6709\u52b9\u5316\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 Telnet \u3084 FTP \u306f\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u30c6\u30ad\u30b9\u30c8\u3067\u3084\u308a\u53d6\u308a\u3055\u308c\u308b\u305f\u3081\u3001SSH\u3001SCP \u306e\u4f7f\u7528\u304c\u63a8\u5968\u3055\u308c\u307e\u3059\u3002 <pre><code># set system services ssh\n# set system services ftp\n# set system services telnet\n</code></pre></p>"},{"location":"junos/fundamental/#snmp","title":"SNMP \u306e\u8a2d\u5b9a","text":"<p>Junos \u306f SNMPv1, V2c \u304a\u3088\u3073 v3 \u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002 SNMP \u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u7121\u52b9\u3067\u3059\u3002</p>"},{"location":"junos/fundamental/#_19","title":"\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u8a2d\u5b9a","text":"<p>\u8aad\u307f\u8fbc\u307f\u5c02\u7528\u306e SNMP \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u3092\u4f5c\u6210\u3059\u308b <pre><code>set snmp community public\n</code></pre> <pre><code>edit snmp community public\n[edit groups common snmp community public]\nset authorization read-only\nset clients 192.168.1.0/24\nset clients 0.0.0.0/0 restrict\n</code></pre></p> <p>\u8aad\u307f\u8fbc\u307f/\u66f8\u304d\u8fbc\u307f\u306e SNMP \u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u3092\u4f5c\u6210\u3059\u308b <pre><code>[edit groups common snmp]\nedit community private\nset authorization read-write\nset clients 192.168.1.15/24\nset clients 0.0.0.0/0 restrict\n</code></pre></p>"},{"location":"junos/fundamental/#snmp_1","title":"SNMP \u30c8\u30e9\u30c3\u30d7\u306e\u8a2d\u5b9a","text":"<p>SNMP \u30c8\u30e9\u30c3\u30d7\u306f SNMP \u30a8\u30fc\u30b8\u30a7\u30f3\u30c8\u304b\u3089\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u306a\u3069\u306b\u9001\u4fe1\u3055\u308c\u308b \u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u3059\u3002 </p> <pre><code>edit group common snmp\n[edit group common snmp]\nset trap-options source-address lo0\nset trap-group managers version v2 targets 192.168.1.15\nset trap-group managers version v2 targets 192.168.1.15 categories authentication\n</code></pre> <p>SNMP \u30ab\u30c6\u30b4\u30ea\u30fc | \u30aa\u30d7\u30b7\u30e7\u30f3 | MIB | \u8aac\u660e | |- |- |- | | authentication | \u6a19\u6e96 MIB-II | \u7d75\u30c7\u30d0\u30a4\u30b9\u3067\u306e\u8a8d\u8a3c\u5931\u6557 | | chassis | Juniper \u72ec\u81ea | \u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u72b6\u614b\u306e\u901a\u77e5 | | configuration | Juniper \u72ec\u81ea | \u8a2d\u5b9a\u30e2\u30fc\u30c9\u306e\u901a\u77e5 | | link | Juniper \u72ec\u81ea | \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u5909\u5316 | | rmon-alarm | Juniper \u72ec\u81ea | SNMP \u30ea\u30e2\u30fc\u30c8\u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u30a4\u30d9\u30f3\u30c8 | | routing | Juniper \u72ec\u81ea | \u30eb\u30fc\u30c6\u30a3\u30f3\u30b0\u30d7\u30ed\u30c8\u30b3\u30eb\u901a\u77e5 |  | startup | \u6a19\u6e96 MIB-II | \u518d\u8d77\u52d5 |</p>"},{"location":"junos/fundamental/#syslog","title":"Syslog \u306e\u8a2d\u5b9a","text":"\u6570\u5024 \u30ec\u30d9\u30eb \u8aac\u660e - \u306a\u3057 \u7121\u52b9 0 emergency \u6a5f\u80fd\u505c\u6b62\u3092\u62db\u304f\u30b7\u30b9\u30c6\u30e0\u30d1\u30cb\u30c3\u30af\u306a\u3069 1 alert \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u7834\u640d\u306a\u3069\u3001\u76f4\u3061\u306b\u5bfe\u51e6\u304c\u5fc5\u8981\u306a\u72b6\u6cc1 2 critical \u7269\u7406\u7684\u306a\u30a8\u30e9\u30fc\u306a\u3069\u91cd\u5927\u306a\u554f\u984c\u304c\u3042\u308b\u72b6\u6cc1 3 error \u81f4\u547d\u7684\u3067\u306f\u306a\u3044\u4e00\u822c\u7684\u306a\u30a8\u30e9\u30fc 4 warning \u30e2\u30cb\u30bf\u30ea\u30f3\u30b0\u306e\u5fc5\u8981\u304c\u3042\u308b\u72b6\u6cc1 5 notice \u30a8\u30e9\u30fc\u3067\u306f\u306a\u3044\u304c\u3001\u5bfe\u51e6\u304c\u5fc5\u8981\u306a\u53ef\u80fd\u6027\u304c\u3042\u308b\u72b6\u6cc1 6 info \u30a4\u30d9\u30f3\u30c8 7 any \u30d5\u30a1\u30b7\u30ea\u30c6\u30a3\u30fc\u304b\u3089\u306e\u5168\u30ec\u30d9\u30eb\u306e\u30e1\u30c3\u30bb\u30fc\u30b8"},{"location":"junos/fundamental/#syslog_1","title":"Syslog \u30b5\u30fc\u30d0\u30fc\u3078\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u8ee2\u9001","text":"<pre><code>set system syslog host LOGSERVER any notice\n</code></pre> <p>facility \u3092\u30aa\u30fc\u30d0\u30fc\u30e9\u30a4\u30c9\u3059\u308b\u306b\u306f\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 <pre><code># set facility-override local7\n</code></pre></p>"},{"location":"junos/fundamental/#_20","title":"\u30bf\u30fc\u30df\u30ca\u30eb\u3078\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u8868\u793a","text":"<pre><code>set system syslog user * any emergency\nset system syslog console any error\n</code></pre>"},{"location":"junos/fundamental/#cli","title":"CLI \u306e\u4fbf\u5229\u6a5f\u80fd\u306a\u3069","text":""},{"location":"junos/fundamental/#set","title":"set \u30b3\u30de\u30f3\u30c9\u8868\u793a","text":"<p>show \u30b3\u30de\u30f3\u30c9\u3067\u306f\u6d41\u3057\u8fbc\u307f\u51fa\u6765\u306a\u3044\u5f62\u5f0f\u3067\u8868\u793a\u3055\u308c\u308b\u305f\u3081\u3001\u30b3\u30d4\u30da\u3057\u305f\u3044\u5834\u5408\u306a\u3069\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b <code>| display set</code> \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 <pre><code>&gt; show configuration interfaces ge-0/0/1 | display set\n</code></pre></p>"},{"location":"junos/fundamental/#no-more","title":"| no-more","text":"<p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f more \u3067\uff11\u30da\u30fc\u30b8\u3054\u3068\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u4e00\u5ea6\u306b\u5168\u90e8\u3092\u8868\u793a\u3057\u305f\u3044\u5834\u5408\u3001\u30b3\u30de\u30f3\u30c9\u306e\u5f8c\u308d\u306b <code>| no-more</code> \u3092\u3064\u3051\u307e\u3059\u3002 <code>show configuration | display set | no-more</code> \u306e\u3088\u3046\u306a\u4f7f\u3044\u65b9\u3092\u3057\u307e\u3059\u3002</p>"},{"location":"junos/fundamental/#show-compare","title":"show | compare","text":"<p>Candidate Config \u3068\u4ee5\u524d\u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u6bd4\u8f03\u3059\u308b\u5834\u5408\u306a\u3069\u306b\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002 <pre><code># show | compare rollback 2\n</code></pre></p> <pre><code># show | compare rollback 1    \n[edit system]\n+   login {\n+       user naoki {\n+           class super-user;\n+       }\n+   }\n+   time-zone GMT+9;\n[edit]\n</code></pre>"},{"location":"junos/fundamental/#match","title":"| match","text":"<p>\u51fa\u529b\u304b\u3089\u4e00\u81f4\u3059\u308b\u884c\u3092\u62bd\u51fa\u3057\u307e\u3059\u3002</p> <pre><code># show | display set | match interface \nset interfaces ge-0/0/0 unit 0 family inet address 10.1.1.1/24\nset interfaces ge-0/0/1 unit 0 family inet address 192.168.1.1/24\nset interfaces fxp0 unit 0 family inet dhcp\nset interfaces st0 unit 0 family inet address 172.16.1.1/24\n</code></pre>"},{"location":"junos/fundamental/#rename","title":"rename \u30b3\u30de\u30f3\u30c9","text":"<p>\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3084 vlan \u3092\u5909\u66f4\u3057\u305f\u3044\u5834\u5408\u3001rename \u30b3\u30de\u30f3\u30c9\u3067\u5909\u66f4\u304c\u53ef\u80fd\u3067\u3059\u3002</p> <pre><code># rename interfaces ge-0/0/0 to ge-1/0/0\n</code></pre>"},{"location":"junos/fundamental/#deactivate","title":"deactivate \u30b3\u30de\u30f3\u30c9","text":""},{"location":"junos/fundamental/#copy","title":"copy \u30b3\u30de\u30f3\u30c9","text":"<pre><code># copy ge-0/0/1 to ge-0/0/2\n</code></pre>"},{"location":"junos/initialize/","title":"\u521d\u671f\u5316\u65b9\u6cd5","text":"<p>Junos \u88fd\u54c1\u306e\u4e3b\u306a\u521d\u671f\u5316\u306e\u65b9\u6cd5\u306f\u6b21\u306e3\u3064\u3067\u3059\u3002</p> <ul> <li>\u672c\u4f53\u306e\u30ea\u30bb\u30c3\u30c8\u30dc\u30bf\u30f3</li> <li>load factory-default \u30b3\u30de\u30f3\u30c9</li> <li>request system zeroize \u30b3\u30de\u30f3\u30c9</li> </ul> <p>Tip</p> <p>root \u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u308f\u304b\u3089\u306a\u304f\u306a\u3063\u305f\u5834\u5408\u306f\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u30ea\u30bb\u30c3\u30c8\u304c\u53ef\u80fd\u3067\u3059\u3002 https://www.juniper.net/documentation/jp/ja/software/junos/user-access/topics/topic-map/recovering-root-password.html</p>"},{"location":"junos/initialize/#_2","title":"\u30ea\u30bb\u30c3\u30c8\u30dc\u30bf\u30f3","text":"<p>SRX300 \u30b7\u30ea\u30fc\u30ba\u3001EX2300 \u306a\u3069\u306e\u6a5f\u7a2e\u3067\u306f\u30ea\u30bb\u30c3\u30c8\u30dc\u30bf\u30f3\u642d\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u672c\u4f53\u306b\u30ea\u30bb\u30c3\u30c8\u30dc\u30bf\u30f3\u304c\u3042\u308b\u5834\u5408\u3001\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3053\u3068\u3067\u5de5\u5834\u51fa\u8377\u6642\u306e\u72b6\u614b\u306b\u30ea\u30bb\u30c3\u30c8\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 rescue config \u3084 rollback config\u3001\u30ed\u30b0\u306a\u3069\u306e\u30d5\u30a1\u30a4\u30eb\u3082\u524a\u9664\u3055\u308c\u307e\u3059\u3002</p> <p>\u30ea\u30bb\u30c3\u30c8\u30dc\u30bf\u30f3\u306f\u3001\u77ed\u304f\u62bc\u3057\u305f\u5834\u5408\u3001rescue config \u3092\u547c\u3073\u51fa\u3057\u3066 commit \u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002 \u521d\u671f\u5316\u3092\u884c\u3046\u5834\u5408\u3001<code>15\u79d2</code>\u4ee5\u4e0a\u62bc\u3057\u7d9a\u3051\u3001Status LED \u304c\u30a2\u30f3\u30d0\u30fc\u306b\u70b9\u706f\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p>"},{"location":"junos/initialize/#load-factory-default","title":"load factory-default \u30b3\u30de\u30f3\u30c9","text":"<p>load factory-default \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001candidate config \u3092\u5de5\u5834\u51fa\u8377\u6642\u306e\u72b6\u614b\u306b\u623b\u3059\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002 \u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f Configuration mode \u3067\u4f7f\u7528\u3057\u3001commit \u3059\u308b\u305f\u3081\u306b\u65b0\u3057\u3044 root \u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <ol> <li><code>load factory-default</code></li> <li><code>set system root-authentication plain-text-password</code></li> <li><code>commit</code></li> </ol> <pre><code>root# load factory-default \nwarning: activating factory configuration\n\nroot# set system root-authentication plain-text-password \nNew password:\nRetype new password:\n\nroot# commit \nconfiguration check succeeds\ncommit complete\n</code></pre>"},{"location":"junos/initialize/#request-system-zeroize","title":"request system zeroize \u30b3\u30de\u30f3\u30c9","text":"<p>request system zeroize \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u30c7\u30d0\u30a4\u30b9\u3092\u5de5\u5834\u51fa\u8377\u6642\u306e\u72b6\u614b\u306b\u623b\u3059\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 load factory-default \u30b3\u30de\u30f3\u30c9\u3068\u7570\u306a\u308a\u3001rescue config \u3084 rollback config\u3001\u30ed\u30b0\u306a\u3069\u306e\u30d5\u30a1\u30a4\u30eb\u3082\u524a\u9664\u3055\u308c\u307e\u3059\u3002</p> <p>\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306f Operational mode \u3067\u5b9f\u884c\u3057\u307e\u3059\u3002</p> <ol> <li><code>request system zeroize</code> </li> </ol> <pre><code>root&gt; request system zeroize \nwarning: System will be rebooted and may not boot without configuration\nErase all data, including configuration and log files? [yes,no] (no) yes \n\nwarning: ipsec-key-management subsystem not running - not needed by configuration.\nwarning: zeroizing fpc0\n\nroot&gt; \nroot&gt; Sep 28 00:44:52 init: multicast-snooping (PID 1312) stopped by signal 17\nSep 28 00:44:52 init: sflow-service (PID 1311) stopped by signal 17 ...\n</code></pre> <p>\u518d\u8d77\u52d5\u5f8c\u3001\u51fa\u8377\u6642\u306e\u72b6\u614b\u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"junos/initialize/#_3","title":"\u53c2\u8003\u8cc7\u6599","text":"<p>KB15725 - [SRX] Getting Started - Factory Reset https://supportportal.juniper.net/s/article/SRX-Getting-Started-Factory-Reset?language=en_US</p> <p>[*1] KB23787 - [SRX] Difference between \"load factory-default\" and \"request system zeroize media\" https://supportportal.juniper.net/s/article/SRX-Difference-between-load-factory-default-and-request-system-zeroize-media?language=en_US</p>"},{"location":"junos/life-cycle/","title":"Junos \u306e\u30e9\u30a4\u30d5\u30b5\u30a4\u30af\u30eb","text":"<p>Junos \u306e\u30ea\u30ea\u30fc\u30b9\u306f\u901a\u5e38\u3001\u30e1\u30b8\u30e3\u30fc\u30ea\u30ea\u30fc\u30b9\u304c\u5e74\u306b1\u56de\u3001\u30de\u30a4\u30ca\u30fc\u30ea\u30ea\u30fc\u30b9\u304c4\u534a\u671f\u306b1\u56de\u7a0b\u5ea6\u884c\u308f\u308c\u3066\u3044\u307e\u3059\u3002 \u203b Junos 23.2R1 \u3088\u308a\u3001\u534a\u5e74\u306b1\u56de\u306e\u30ea\u30ea\u30fc\u30b9\u3068\u306a\u308a\u3001\u30b5\u30dd\u30fc\u30c8\u671f\u9593\u304c60\u30f5\u6708\u306b\u5ef6\u9577\u3055\u308c\u307e\u3057\u305f\u3002\u8a73\u7d30\u306f\u30ea\u30ea\u30fc\u30b9\u30ce\u30fc\u30c8\u3092\u3054\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002</p> <p>Junos \u306e\u5404\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u30b5\u30dd\u30fc\u30c8\u671f\u9593\u306f\u4ee5\u4e0b\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u25a0 Junos \u306e\u30ea\u30ea\u30fc\u30b9\u65e5\u3068 EoS \u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3 https://support.juniper.net/support/eol/software/junos/</p> <p>\u25a0 Junos EVO \u306e\u30ea\u30ea\u30fc\u30b9\u65e5\u3068 EoS \u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3 https://support.juniper.net/support/eol/software/junosevo/</p>"},{"location":"junos/life-cycle/#_1","title":"\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u78ba\u8a8d\u65b9\u6cd5","text":"<p><code>show version</code> \u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 \u203b \u30d0\u30fc\u30b8\u30e7\u30f3\u3060\u3051\u3092\u78ba\u8a8d\u3057\u305f\u3044\u5834\u5408 and haiku \u306f\u4e0d\u8981\u3067\u3059\u3002  <pre><code>naoki@SRX300&gt; show version and haiku\nHostname: SRX300\nModel: srx300\nJunos: 22.1R1.10\nJUNOS Software Release [22.1R1.10]\n\n\n        Sleet, ice, but no snow\n        Take the day off and Enjoy\n        Winter in The South\n</code></pre></p>"},{"location":"junos/life-cycle/#_2","title":"\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u8868\u8a18\u306b\u3064\u3044\u3066","text":"<p>Junos \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f <code>m.nZb.s</code> \u306e\u3088\u3046\u306b\u8868\u8a18\u3055\u308c\u307e\u3059\u3002 \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30ea\u30ea\u30fc\u30b9\u756a\u53f7 22.3R1.11 \u3092\u4f8b\u3068\u3057\u3066\u793a\u3057\u307e\u3059\u3002</p> <ul> <li>m \u306f\u3001\u88fd\u54c1\u306e\u30e1\u30b8\u30e3\u30fc\u30ea\u30ea\u30fc\u30b9\u756a\u53f7(\u4f8b:22)\u3067\u3059\u3002</li> <li>n \u306f\u3001\u88fd\u54c1\u306e\u30de\u30a4\u30ca\u30fc\u30ea\u30ea\u30fc\u30b9\u756a\u53f7(\u4f8b:3)\u3067\u3059\u3002</li> <li>Z \u306f\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u30ea\u30ea\u30fc\u30b9\u306e\u30bf\u30a4\u30d7\u3067\u3059\u3002\u3044\u304f\u3064\u304b\u30bf\u30a4\u30d7\u304c\u3042\u308a\u307e\u3059\u304c\u3001FRS(First Revenue Ship) \u307e\u305f\u306f\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u30ea\u30ea\u30fc\u30b9\u3092\u8868\u3059 R \u304c\u4e00\u822c\u7684\u3067\u3059\u3002</li> <li>b \u306f\u3001\u30d3\u30eb\u30c9\u756a\u53f7(\u4f8b:1)\u3067\u3001Z \u3068\u5408\u308f\u305b\u3066 R1 \u306f FRS \u30d0\u30fc\u30b8\u30e7\u30f3\u3001R2 \u4ee5\u964d\u306f\u30e1\u30f3\u30c6\u30ca\u30f3\u30b9\u30ea\u30ea\u30fc\u30b9\u3092\u793a\u3057\u307e\u3059\u3002</li> <li>s \u306f\u3001\u88fd\u54c1\u306e\u30b9\u30d4\u30f3\u756a\u53f7(\u4f8b:11)\u3067\u3059\u3002</li> </ul> <p>\u8a73\u7d30\u306f\u4ee5\u4e0b\u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002 https://www.juniper.net/documentation/jp/ja/software/junos/junos-install-upgrade/topics/topic-map/software-install-and-upgrade-overview.html#id-junos-os-installation-package-names</p>"},{"location":"junos/life-cycle/#_3","title":"\u63a8\u5968\u30d0\u30fc\u30b8\u30e7\u30f3","text":"<p>\u6700\u65b0\u306e\u63a8\u5968\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u306e KB \u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002 https://supportportal.juniper.net/s/article/Junos-Software-Versions-Suggested-Releases-to-Consider-and-Evaluate</p>"},{"location":"junos/life-cycle/#eol-end-of-life","title":"\u30b5\u30dd\u30fc\u30c8\u7d42\u4e86\uff08EOL; End of Life\uff09\u306b\u3064\u3044\u3066","text":"<p>\u30b5\u30dd\u30fc\u30c8\u306e\u7d42\u4e86\u306f\u3001Junos \u306e\u30b5\u30dd\u30fc\u30c8\u7d42\u4e86\u3068\u3001\u88fd\u54c1\u81ea\u4f53\u306e\u30b5\u30dd\u30fc\u30c8\u7d42\u4e86\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>Junos \u306b\u3064\u3044\u3066\u306f\u3001\u4e0a\u8a18\u306e\u30ea\u30ea\u30fc\u30b9\u65e5\u3068 EoS \u30de\u30a4\u30eb\u30b9\u30c8\u30fc\u30f3\u306e\u30da\u30fc\u30b8\u306b\u3042\u308b\u3088\u3046\u306b\u3001\u30ea\u30ea\u30fc\u30b9\u6642\u70b9\u3067 OS \u306e\u30b5\u30dd\u30fc\u30c8\u7d42\u4e86\u65e5\u304c\u8a18\u8f09\u3055\u308c\u307e\u3059\u3002 \u304a\u304a\u3080\u306d\u30ea\u30ea\u30fc\u30b9\u304b\u30892\u5e74\u3067\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u4fee\u6b63\u3084\u6a5f\u80fd\u8ffd\u52a0\u304c\u884c\u308f\u308c\u306a\u304f\u306a\u308b End of Engineering (EoE)\u3001EoE \u304b\u30896\u30f5\u6708\u5f8c\u304c QA \u3092\u542b\u3080\u30b5\u30dd\u30fc\u30c8\u7d42\u4e86\u65e5\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <p>\u88fd\u54c1\u81ea\u4f53\u304c\u7d42\u606f\u3059\u308b\u5834\u5408\u3001\u6b21\u306e\u3088\u3046\u306a\u30a2\u30ca\u30a6\u30f3\u30b9\u304c\u884c\u308f\u308c\u307e\u3059\u3002  \u88fd\u54c1\u306e\u5834\u5408\u306f\u8ca9\u58f2\u7d42\u4e86\u306e\u30a2\u30ca\u30a6\u30f3\u30b9\u304c\u6848\u5185\u3055\u308c\u305f\u6bb5\u968e\u3067\u3001EOS \u306e\u671f\u65e5\u304c\u8a18\u8f09\u3055\u308c\u307e\u3059\u3002</p> <p>\u88fd\u54c1\u3054\u3068\u306e EOL \u6848\u5185\u30da\u30fc\u30b8 https://support.juniper.net/support/eol/</p> <p>EOL \u306b\u3064\u3044\u3066\u306e\u30dd\u30ea\u30b7\u30fc\u306e\u8a73\u7d30\u306f\u4ee5\u4e0b\u306e PDF \u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002 https://support.juniper.net/support/pdf/eol/990833.pdf</p>"},{"location":"junos/upgrade/","title":"\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9","text":""},{"location":"junos/upgrade/#_2","title":"\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u30d1\u30b9\u306b\u3064\u3044\u3066","text":"<p>Junos \u306f\u4e00\u5ea6\u306b 3 \u3064\u4ee5\u4e0a\u306e\u30ea\u30ea\u30fc\u30b9\u306b\u307e\u305f\u304c\u308b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3068\u30c0\u30a6\u30f3\u30b0\u30ec\u30fc\u30c9\u306f\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u307e\u305b\u3093\u3002 \u4f8b\u3048\u3070 20.4 \u304b\u3089 21.1, 21.2, 21.3 \u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3001\u307e\u305f\u306f 20.3, 20.2, 20.1 \u3078\u306e\u30c0\u30a6\u30f3\u30b0\u30ec\u30fc\u30c9\u306e\u307f\u304c\u30b5\u30dd\u30fc\u30c8\u5bfe\u8c61\u3067\u3059\u3002</p> <p>EEOL(Extended End of Life) \u306e\u5bfe\u8c61\u3068\u306a\u308b\u30ea\u30ea\u30fc\u30b9\u306b\u3064\u3044\u3066\u306f\u3001\u524d\u5f8c 2 \u3064\u306e EEOL \u30ea\u30ea\u30fc\u30b9\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3001\u30c0\u30a6\u30f3\u30b0\u30ec\u30fc\u30c9\u304c\u53ef\u80fd\u3067\u3059\u3002 \u4f8b\u3048\u3070 20.4 \u304b\u3089 21.2, 21.4 \u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u300120.2, 19.4 \u3078\u306e\u30c0\u30a6\u30f3\u30b0\u30ec\u30fc\u30c9\u304c\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u307e\u3059\u3002</p> <p>https://www.juniper.net/documentation/us/en/software/junos/release-notes/21.4/junos-release-notes-21.4r1/topics/upgrade-downgrade/srx-upgrade-downgrade.html#id_l3t_3w3_44b</p>"},{"location":"junos/upgrade/#_3","title":"\u4e8b\u524d\u6e96\u5099","text":"<p>\u30ed\u30b0\u306e\u53d6\u5f97\u3084\u78ba\u8a8d\u9805\u76ee\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u53c2\u7167\u3002</p> <p>https://www.juniper.net/documentation/jp/ja/software/junos/junos-install-upgrade/topics/topic-map/prepare-sotware-install-and-upgrade.html</p> <p>\u53d6\u5f97\u3059\u308b\u30ed\u30b0\u306e\u4f8b <pre><code>&gt; show chassis alarms | no-more\n&gt; show system core-dumps | no-more\n&gt; show pfe statistics traffic | match drop\n&gt; show pfe statistics error | no-more\n&gt; show system processes extensive | no-more\n&gt; show system uptime no-forwarding | no-more\n&gt; show chassis fpc detail | no-more\n&gt; show chassis environment | no-more\n&gt; show chassis routing-engine | no-more\n\n&gt; show interfaces descriptions | match down | no-more\n&gt; show interfaces | match \u201cPhysical|rate\u201d | no-more\n&gt; show bfd session | no-more\n&gt; show route summary | no-more\n&gt; show bgp summary | no-more | match Establish\n</code></pre></p> <p>\u30b3\u30f3\u30d5\u30a3\u30b0\u306e\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u53d6\u5f97\u3057\u3066\u304a\u304d\u307e\u3059\u3002 <pre><code>&gt; show configuration | no-more\n</code></pre></p>"},{"location":"junos/upgrade/#_4","title":"\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9","text":"<p>\u4ee5\u4e0b\u306e\u30b5\u30dd\u30fc\u30c8\u30b5\u30a4\u30c8\u304b\u3089\u5fc5\u8981\u306a\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002 https://support.juniper.net/support/downloads/</p> <p>\u30ea\u30ea\u30fc\u30b9\u30ce\u30fc\u30c8\u3084 EoL \u307e\u3067\u306e\u671f\u9593\u306a\u3069\u3092\u8003\u616e\u3057\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u9078\u5b9a\u3057\u307e\u3057\u3087\u3046\u3002</p> <p>Tip</p> <p>\u6a5f\u7a2e\u3054\u3068\u306e\u6700\u65b0\u306e\u63a8\u5968\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u4ee5\u4e0b\u306e KB \u306b\u8a18\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002 https://supportportal.juniper.net/s/article/Junos-Software-Versions-Suggested-Releases-to-Consider-and-Evaluate?language=en_US</p>"},{"location":"junos/upgrade/#_5","title":"\u30b9\u30c8\u30ec\u30fc\u30b8\u5bb9\u91cf\u306e\u78ba\u4fdd","text":"<p>\u30d5\u30a1\u30a4\u30eb\u30b3\u30d4\u30fc\u306b\u5931\u6557\u3059\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u7a7a\u304d\u5bb9\u91cf\u3092\u78ba\u8a8d\u3057\u3001\u4e0d\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664\u3057\u307e\u3059\u3002</p> <p>\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d <pre><code>&gt; show system storage detail\n</code></pre></p> <p>\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7 \u524a\u9664\u30ea\u30b9\u30c8\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001yes \u3092\u9078\u629e\u3057\u307e\u3059\u3002 <pre><code>request system storage cleanup \n</code></pre></p> <p>\u7279\u5b9a\u306e\u30d5\u30a1\u30a4\u30eb\u306e\u524a\u9664 <pre><code>&gt; file delete /var/tmp/junos-xxx.tgz\n</code></pre></p>"},{"location":"junos/upgrade/#_6","title":"\u30c7\u30d0\u30a4\u30b9\u304c\u76f4\u63a5\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u5834\u5408","text":"<p>file copy \u30b3\u30de\u30f3\u30c9\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u30da\u30fc\u30b8\u306b\u8868\u793a\u3055\u308c\u308b URL \u304b\u3089\u76f4\u63a5\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u4fdd\u5b58\u3057\u307e\u3059\u3002</p> <p><pre><code>&gt; file copy \"URL\" /var/tmp/filename\n\n\u4f8b \n&gt; file copy \"https://cdn.juniper.net/software/junos/22.4R2.8/junos-srxsme-22.4R2.8.tgz?SM~(\u7565)~\" /var/tmp/junos-22.4r2.tgz\n</code></pre> \u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u306a\u3044\u3068\u304a\u304b\u3057\u304f\u306a\u308a\u307e\u3059\u3002 \u30d5\u30a1\u30a4\u30eb\u540d\u3082\u6307\u5b9a\u3057\u306a\u3044\u3068\u3084\u305f\u3089\u9577\u304f\u306a\u308b\u306e\u3067\u3001\u308f\u304b\u308a\u3084\u3059\u3044\u540d\u524d\u3067\u4fdd\u5b58\u3059\u308b\u306e\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002</p>"},{"location":"junos/upgrade/#scp-ftp","title":"SCP \u3084 FTP \u3067\u8ee2\u9001\u3059\u308b\u5834\u5408","text":"<p>SCP \u30b5\u30fc\u30d0\u304b\u3089\u8ee2\u9001 <pre><code>&gt; scp junos-srxsme-22.4R2.8.tgz user@srx:/var/tmp/junos-srxsme-22.4R2.8.tgz\n</code></pre></p> <p>FTP \u30b5\u30fc\u30d0\u304b\u3089\u53d6\u5f97 <pre><code>user@srx&gt; ftp &lt;ip address of local ftp server&gt; (and login) \nuser@srx&gt; lcd /var/tmp\nuser@srx&gt; bin \nuser@srx&gt; get junos-srxsme-22.4R2.8.tgz\nuser@srx&gt; bye\n</code></pre></p>"},{"location":"junos/upgrade/#usb","title":"USB \u30e1\u30e2\u30ea\u3067\u8ee2\u9001\u3059\u308b\u5834\u5408","text":"<p>USB \u30e1\u30e2\u30ea\u3067\u30d5\u30a1\u30a4\u30eb\u306e\u8ee2\u9001\u3092\u884c\u3046\u5834\u5408\u3001Shell \u3067\u30de\u30a6\u30f3\u30c8\u64cd\u4f5c\u304c\u5fc5\u8981\u3067\u3059\u3002 <pre><code>&gt; start shell\n</code></pre></p> <p>USB \u30e1\u30e2\u30ea\u306e\u30c7\u30d0\u30a4\u30b9 ID \u3092\u78ba\u8a8d <pre><code>% ls /dev/da*\n</code></pre></p> <p>\u30de\u30a6\u30f3\u30c8\u30dd\u30a4\u30f3\u30c8\u306e\u4f5c\u6210 <pre><code>% mkdir /tmp/usb \n</code></pre></p> <p>\u30de\u30a6\u30f3\u30c8 \u30c7\u30d0\u30a4\u30b9 ID \u306f\u901a\u5e38 da0s1 \u3084 da1s1 \u306a\u3069\u3067\u3059\u3002 <pre><code>% mount -t msdosfs /dev/&lt;device id&gt; /tmp/usb\n</code></pre></p> <p>\u30d5\u30a1\u30a4\u30eb\u3092 /var/tmp \u306b\u30b3\u30d4\u30fc <pre><code>% cp /tmp/usb/junos-srxsme-22.4R2.8.tgz /var/tmp\n</code></pre></p> <p>shell \u3092\u629c\u3051\u308b <pre><code>% exit\n</code></pre></p>"},{"location":"junos/upgrade/#_7","title":"\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u64cd\u4f5c","text":"<p>request system software add \u30b3\u30de\u30f3\u30c9\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002 <pre><code>&gt; request system software add /var/tmp/installation-package\n</code></pre></p> <p>\u30aa\u30d7\u30b7\u30e7\u30f3\u3067 no-validate, no-copy, reboot \u3092\u3064\u3051\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002</p> no-validate \u30b3\u30f3\u30d5\u30a3\u30b0\u306b\u5bfe\u3059\u308b\u4e92\u63db\u6027\u306e\u78ba\u8a8d\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u307e\u3059\u3002\u6642\u9593\u306f\u77ed\u304f\u306a\u308a\u307e\u3059\u304c\u3001\u672c\u756a\u74b0\u5883\u3067\u306f\u304a\u52e7\u3081\u3057\u307e\u305b\u3093\u3002 no-copy \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u30d1\u30c3\u30b1\u30fc\u30b8\u3092 /var/sw/pkg/ \u306b\u30b3\u30d4\u30fc\u3055\u308c\u307e\u3059\u304c\u3001\u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3068\u30b3\u30d4\u30fc\u3092\u4f5c\u6210\u3057\u307e\u305b\u3093\u3002 reboot \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u5b8c\u4e86\u5f8c\u3001\u81ea\u52d5\u3067\u518d\u8d77\u52d5\u3092\u884c\u3044\u307e\u3059\u3002 <p>\u518d\u8d77\u52d5\u5f8c\u3001show version \u306b\u3066\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002</p>"},{"location":"junos/upgrade/#_8","title":"\u53c2\u8003\u6587\u732e","text":"<p>Junos\u00ae OS Software Installation and Upgrade Guide https://www.juniper.net/documentation/us/en/software/junos/junos-install-upgrade/index.html</p> <p>Juniper SRX \u65e5\u672c\u8a9e\u30de\u30cb\u30e5\u30a2\u30eb 1. Junos OS \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb&amp;\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9 https://www.juniper.net/content/dam/www/assets/additional-resources/jp/ja/junos-installation-upgrade.pdf</p> <p>no-copy option https://supportportal.juniper.net/s/article/Junos-Example-Upgrade-Junos-OS-with-no-copy-option?language=en_US</p>"},{"location":"other/useful-link/","title":"Juniper Networks \u30ea\u30f3\u30af\u96c6","text":""},{"location":"other/useful-link/#_1","title":"\u88fd\u54c1\u60c5\u5831\u30fb\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8","text":"<p>\u30c8\u30c3\u30d7\u30da\u30fc\u30b8 https://www.juniper.net/jp/ja.html</p> <p>Mist \u65e5\u672c\u8a9e\u60c5\u5831 https://www.juniper.net/jp/ja/local/solution-technical-information/mist.html</p> <p>SRX \u65e5\u672c\u8a9e\u8a2d\u5b9a\u30de\u30cb\u30e5\u30a2\u30eb https://origin-www.juniper.net/jp/jp/dm/network/manual/</p> <p>Tech Library\uff08\u82f1\u8a9e\u3001\u6a5f\u68b0\u7ffb\u8a33\u3042\u308a\uff09 https://www.juniper.net/documentation/</p> <p>Mist\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\uff08\u82f1\u8a9e\uff09 https://www.mist.com/documentation/</p> <p>Session Smart Router\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\uff08\u82f1\u8a9e\uff09 https://www.juniper.net/documentation/us/en/software/session-smart-router/docs/intro_getting_started</p> <p>Knowledge Base\uff08\u82f1\u8a9e\uff09 https://supportportal.juniper.net/s/knowledge?language=en_US</p>"},{"location":"other/useful-link/#_2","title":"\u5b66\u7fd2\u6559\u6750","text":"<p>Day One+\uff08\u82f1\u8a9e\uff09: \u6982\u8981\u3084\u57fa\u672c\u8a2d\u5b9a\u306a\u3069 https://www.juniper.net/documentation/dayoneplus/us/en/day-one-plus/</p> <p>Day One Books\uff08\u82f1\u8a9e\uff09 https://www.juniper.net/documentation/jnbooks/us/en/day-one-books</p> <p>\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u3068\u8a8d\u5b9a\u8cc7\u683c\u306b\u3064\u3044\u3066 https://www.juniper.net/jp/ja/training.html</p> <p>Learning Portal\uff08\u82f1\u8a9e\uff09 https://learningportal.juniper.net/juniper/default.aspx</p>"},{"location":"other/useful-link/#_3","title":"\u4fbf\u5229\u306a\u30da\u30fc\u30b8\u306a\u3069","text":"<p>Junos \u63a8\u5968\u30d0\u30fc\u30b8\u30e7\u30f3 https://supportportal.juniper.net/s/article/Junos-Software-Versions-Suggested-Releases-to-Consider-and-Evaluate</p> <p>\u30b3\u30df\u30e5\u30cb\u30c6\u30a3 https://community.juniper.net/home</p>"},{"location":"other/vlabs/","title":"Juniper vLabs \u306e\u4f7f\u3044\u65b9","text":""},{"location":"other/vlabs/#juniper-vlabs_1","title":"Juniper vLabs \u3068\u306f","text":"<p>Juniper \u304c\u63d0\u4f9b\u3059\u308b\u30af\u30e9\u30a6\u30c9\u4e0a\u3067\u306e\u30c6\u30b9\u30c8\u74b0\u5883\u3067\u3059\u3002 \u3044\u304f\u3064\u304b\u306e\u30c8\u30dd\u30ed\u30b8\u304c\u3042\u3089\u304b\u3058\u3081\u7528\u610f\u3055\u308c\u3066\u304a\u308a\u3001vMX \u3084 vSRX\u3001Apstra \u3084 Paragon \u306a\u3069\u306e\u88fd\u54c1\u3092\u76f4\u63a5\u64cd\u4f5c\u3001\u4f53\u9a13\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002</p> <p>https://jlabs.juniper.net/vlabs/ \u30e6\u30fc\u30b6\u30fc\u30ac\u30a4\u30c9\uff08\u82f1\u8a9e PDF\uff09 </p> <p></p>"},{"location":"other/vlabs/#_1","title":"\u767b\u9332\u65b9\u6cd5","text":"<p>Juniper vLabs \u306e\u5229\u7528\u306b\u306f Juniper \u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u5fc5\u8981\u3067\u3059\u3002 \u516c\u5f0f\u306e\u767b\u9332\u306e\u624b\u9806\u306f \u3053\u3061\u3089\uff08\u82f1\u8a9e\uff09 \u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 https://jlabs.juniper.net/vlabs/ \u306b\u30a2\u30af\u30bb\u30b9\u3057\u3001Sign in \u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002 \u30ed\u30b0\u30a4\u30f3\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3063\u3066\u3044\u306a\u3044\u4eba\u306f\u300c\u30b5\u30a4\u30f3\u30a4\u30f3\u306b\u3064\u3044\u3066\u30d8\u30eb\u30d7\u304c\u5fc5\u8981\u3067\u3059\u304b\uff1f\u300d\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u300cCreate a new account\u300d\u3092\u9078\u629e\u3057\u307e\u3059\u3002</p> <p></p> <p>\u30e6\u30fc\u30b6\u30fc\u767b\u9332\u306e\u753b\u9762\u306b\u306a\u308b\u306e\u3067\u3001\u5fc5\u8981\u4e8b\u9805\u3092\u8a18\u5165\u3057\u307e\u3059\u3002 \u6a29\u9650\u306e\u7533\u8acb\u3067\u306f\u300cAccess to EngNet, vLabs other JCL Tools\u300d\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Guest User Access \u3067\u306f\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u306e\u95b2\u89a7\u306a\u3069\u306f\u53ef\u80fd\u3067\u3059\u304c\u3001\u30e9\u30dc\u306e\u5229\u7528\u304c\u3067\u304d\u307e\u305b\u3093\u3002</p> <p></p> <p>\u6b21\u306b\u4f1a\u793e\u540d\u306a\u3069\u3092\u5165\u529b\u3057\u3001Submit \u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002 \u30b3\u30f3\u30d7\u30e9\u30a4\u30a2\u30f3\u30b9\u30c1\u30a7\u30c3\u30af\u306a\u3069\u306e\u305f\u3081\u3001\u6709\u52b9\u306b\u306a\u308b\u307e\u3067 \u6700\u5927\u3067 24 \u6642\u9593\u7a0b\u5ea6 \u304b\u304b\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>Warning</p> <p>\u30d5\u30ea\u30fc\u30e1\u30fc\u30eb\uff08Gmail \u3084 Hotmail\uff09\u306a\u3069\u306f\u30e9\u30dc\u306e\u5229\u7528\u304c\u3067\u304d\u307e\u305b\u3093\u3002\u4f1a\u793e\u7b49\u306e\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3067\u30b5\u30a4\u30f3\u30a2\u30c3\u30d7\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"other/vlabs/#_2","title":"\u4f7f\u7528\u65b9\u6cd5","text":""},{"location":"other/vlabs/#_3","title":"\u4e88\u7d04","text":"<p>\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3068\u5229\u7528\u3067\u304d\u308b\u30e9\u30dc\u30c8\u30dd\u30ed\u30b8\u306e\u4e00\u89a7\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 </p> <p>\u5229\u7528\u3057\u305f\u3044\u30e9\u30dc\u3092\u9078\u629e\u3057\u3001\u300cLaunch\u300d\u3092\u9078\u629e\u3057\u307e\u3059\u3002 \u30c8\u30dd\u30ed\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u6642\u70b9\u3067\u306f\u307e\u3060\u52d5\u3044\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u53f3\u4e0a\u306e\u300cRESERVE\u300d\u304b\u3089\u30e9\u30dc\u3092\u4e88\u7d04\u3057\u307e\u3059\u3002  \u5de6\u4e0a\u306e\u300cInstractions\u300d\u306b\u30e9\u30dc\u306e\u8aac\u660e\u304c\u3042\u308a\u307e\u3059\u3002\u30e9\u30dc\u306e\u7a2e\u985e\u306b\u3088\u3063\u3066\u306f\u89e3\u8aac\u304c\u3042\u308b\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002</p> <p></p> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u3067 3 \u6642\u9593\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002\u6700\u5927 6 \u6642\u9593\u307e\u3067\u4e88\u7d04\u53ef\u80fd\u3067\u3059\u3002 \u69cb\u6210\u3084\u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u56fa\u5b9a\u3067\u3059\u3002</p> <p></p> <p>Reserve \u3092\u62bc\u3057\u3066\u304b\u3089\u3001\u74b0\u5883\u306e\u6e96\u5099\u304c\u59cb\u307e\u308a\u3001\u7d0415~20\u5206\u7a0b\u5ea6\u3067\u5229\u7528\u53ef\u80fd\u306a\u72b6\u614b\u306b\u306a\u308a\u307e\u3059\u3002 \u53f3\u4e0a\u306e SETUP \u306b\u30de\u30a6\u30b9\u3092\u304b\u3056\u3059\u3068\u5b8c\u4e86\u307e\u3067\u306e\u6642\u9593\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <p></p> <p>\u5229\u7528\u53ef\u80fd\u306b\u306a\u308b\u3068\u8868\u793a\u304c Active \u306b\u306a\u308a\u307e\u3059\u3002</p>"},{"location":"other/vlabs/#_4","title":"\u753b\u9762\u8aac\u660e","text":"<p>\u6a5f\u5668\u304c\u6b63\u5e38\u306b\u8d77\u52d5\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u6a5f\u5668\u30a2\u30a4\u30b3\u30f3\u306e\u53f3\u4e0b\u306b\u7dd1\u8272\u306e\u3007\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u6a5f\u5668\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u25bd\u3092\u62bc\u3059\u3068\u63a5\u7d9a\u65b9\u6cd5\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <p></p> <p>SSH \u3092\u9078\u629e\u3057\u305f\u5834\u5408\u3001\u65b0\u3057\u3044\u30bf\u30d6\u3067\u30b3\u30f3\u30bd\u30fc\u30eb\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <p></p> <p>\u6a5f\u5668\u306b\u3088\u3063\u3066\u306f HTTP(S) \u306a\u3069\u3067\u306e\u30a2\u30af\u30bb\u30b9\u3082\u53ef\u80fd\u3067\u3059\u3002 \u6e96\u5099\u306f\u4ee5\u4e0a\u3067\u3059\u3002\u30e9\u30dc\u74b0\u5883\u3092\u3054\u81ea\u7531\u306b\u304a\u697d\u3057\u307f\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"other/vlabs/#_5","title":"\u30e9\u30dc\u306e\u7d42\u4e86","text":"<p>\u6642\u9593\u304c\u6765\u308c\u3070\u81ea\u52d5\u7684\u306b\u30e9\u30dc\u306f\u7d42\u4e86\u3057\u307e\u3059\u304c\u3001\u30ea\u30bd\u30fc\u30b9\u306b\u9650\u308a\u304c\u3042\u308b\u305f\u3081\u3001\u3082\u3057\u6642\u9593\u304c\u4f59\u3063\u305f\u3089\u30e9\u30dc\u3092\u7d42\u4e86\u3057\u307e\u3057\u3087\u3046\u3002</p> <p></p> <p>End \u3092\u30af\u30ea\u30c3\u30af\u3057\u3001\u78ba\u8a8d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u7d42\u4e86\u3067\u3059\u3002</p>"},{"location":"other/vlabs/#tips","title":"Tips","text":""},{"location":"other/vlabs/#_6","title":"\u5916\u90e8\u30a2\u30af\u30bb\u30b9\u306e\u8a31\u53ef","text":"<p>\u30d6\u30e9\u30a6\u30b6\u3067\u306f\u306a\u304f Teraterm \u306a\u3069\u306e\u30ed\u30fc\u30ab\u30eb\u304b\u3089\u64cd\u4f5c\u3057\u305f\u3044\u5834\u5408\u3001\u5916\u90e8\u30a2\u30af\u30bb\u30b9\u306e\u8a31\u53ef\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 [Command] &gt; [Add Allowed Network Prefixes] \u3088\u308a\u63a5\u7d9a\u5143\u306e\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u8a31\u53ef\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p></p> <p>\u6b21\u306b\u3001\u6a5f\u5668\u306e\u53f3\u4e0b\u306e\u7dd1\u306e\u3007\u306b\u30de\u30a6\u30b9\u3092\u304b\u3056\u3059\u3068\u3001\u63a5\u7d9a\u7528\u306e IP \u30a2\u30c9\u30ec\u30b9\u3068\u30dd\u30fc\u30c8\u756a\u53f7\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u6b8b\u5ff5\u306a\u304c\u3089\u30b3\u30d4\u30da\u3067\u304d\u306a\u3044\u306e\u3067\u3001Teraterm \u306a\u3069\u306b\u5165\u529b\u3057\u3066\u63a5\u7d9a\u3057\u307e\u3059\u3002 SSH \u306e\u8a8d\u8a3c\u60c5\u5831\u306f\u4e88\u7d04\u6642\u306e\u30e1\u30fc\u30eb\u3067\u901a\u77e5\u3055\u308c\u307e\u3059\u3002\u57fa\u672c\u7684\u306b\u306f jcluser / Juniper!1 \u3067\u3059\u3002</p>"},{"location":"srx/pppoe/","title":"PPPoE \u8a2d\u5b9a","text":"<p>\u56f3\u306e\u3088\u3046\u306a\u74b0\u5883\u3067 SRX \u3092\u7528\u3044\u3066 PPPoE \u63a5\u7d9a\u3092\u884c\u3044\u3001Trust Zone \u304b\u3089\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u8a2d\u5b9a\u3002</p> <p></p> \u9805\u76ee \u30b5\u30f3\u30d7\u30eb\u8a2d\u5b9a\u5024 \u8a8d\u8a3c\u30d7\u30ed\u30c8\u30b3\u30eb chap \u8a8d\u8a3c\u30e6\u30fc\u30b6\u30fc\u540d juniper123@isp.example.net \u30d1\u30b9\u30ef\u30fc\u30c9 Juniper!1 WAN \u5074\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 ge-0/0/0.0 <p>\u63a5\u7d9a\u306b\u4f7f\u7528\u3059\u308b\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b PPPoE \u30ab\u30d7\u30bb\u30eb\u5316\u3092\u6307\u5b9a <pre><code>set interfaces ge-0/0/0 unit 0 encapsulation ppp-over-ether\n</code></pre></p> <p>ISP \u304b\u3089\u63d0\u4f9b\u3055\u308c\u308b\u8a8d\u8a3c\u60c5\u5831\u3092\u8a2d\u5b9a <pre><code>set interfaces pp0 unit 0 ppp-options chap default-chap-secret \"Juniper!1\"\nset interfaces pp0 unit 0 ppp-options chap local-name \"juniper123@isp.example.net\"\nset interfaces pp0 unit 0 ppp-options chap passive\n</code></pre></p> <p>PPPoE \u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u8a2d\u5b9a <pre><code>set interfaces pp0 unit 0 pppoe-options underlying-interface ge-0/0/0.0\nset interfaces pp0 unit 0 pppoe-options auto-reconnect 10\nset interfaces pp0 unit 0 pppoe-options client\n</code></pre></p> <p>IP \u8a2d\u5b9a (ISP \u304b\u3089\u4ed8\u4e0e\u3055\u308c\u308b IP \u3092\u4f7f\u7528\u3059\u308b\u5834\u5408) <pre><code>set interfaces pp0 unit 0 family inet negotiate-address\n</code></pre></p> <p>\u30d5\u30ec\u30c3\u30c4\u5411\u3051 MTU \u8a2d\u5b9a <pre><code>set interfaces pp0 unit 0 family inet mtu 1454\n</code></pre></p> <p>TCP MSS \u8a2d\u5b9a\uff08\u30aa\u30d7\u30b7\u30e7\u30f3\uff09 <pre><code>set security flow tcp-mss all-tcp mss 1414\n</code></pre></p> <p>\u30c7\u30d5\u30a9\u30eb\u30c8\u30eb\u30fc\u30c8\u8a2d\u5b9a <pre><code>set routing-options static route 0.0.0.0/0 next-hop pp0.0\n</code></pre></p> <p>pp0 \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30be\u30fc\u30f3\u8a2d\u5b9a <pre><code>set security zone security-zone Untrust interfaces pp0\n</code></pre></p> <p>pppoe \u306e\u8a2d\u5b9a\u306f\u3053\u3053\u307e\u3067\u3067\u3059\u304c\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u901a\u4fe1\u3059\u308b\u305f\u3081\u306b Source NAT \u3068\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30dd\u30ea\u30b7\u30fc\u8a2d\u5b9a\u306a\u3069\u304c\u5fc5\u8981\u3067\u3059\u3002</p> <p>Untrust \u5074\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u30be\u30fc\u30f3\u8a2d\u5b9a <pre><code>set security zones security-zone Untrust interfaces ge-0/0/0.0\n</code></pre></p> <p>Trust \u5074\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u30be\u30fc\u30f3\u3001IP \u30a2\u30c9\u30ec\u30b9\u8a2d\u5b9a <pre><code>set security zones security-zone Trust interfaces ge-0/0/1.0\nset interfaces ge-0/0/1 unit 0 family inet address 192.168.1.1/24\n</code></pre></p> <p>Source NAT \u30eb\u30fc\u30eb\u4f5c\u6210 <pre><code>set security nat source rule-set trust-to-untrust from zone Trust\nset security nat source rule-set trust-to-untrust to zone Untrust\nset security nat source rule-set trust-to-untrust rule 1 match source-address 0.0.0.0/0\nset security nat source rule-set trust-to-untrust rule 1 then source-nat interface\n</code></pre></p> <p>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30dd\u30ea\u30b7\u30fc <pre><code>set security policies from-zone Trust to-zone Untrust policy trust-to-untrust match source-address any\nset security policies from-zone Trust to-zone Untrust policy trust-to-untrust match destination-address any\nset security policies from-zone Trust to-zone Untrust policy trust-to-untrust match application any\nset security policies from-zone Trust to-zone Untrust policy trust-to-untrust then permit\n</code></pre></p>"},{"location":"srx/pppoe/#pppoe_1","title":"PPPoE \u63a5\u7d9a\u306e\u78ba\u8a8d","text":"<p>\u30bb\u30c3\u30b7\u30e7\u30f3\u72b6\u614b\u306e\u8868\u793a <pre><code>&gt; show pppoe interfaces brief\nInterface       Underlying            State       Session    Remote\n                interface                         ID         MAC\npp0.0           ge-0/0/0.0            Session up  31601      00:00:5e:00:53:23\n</code></pre></p> <p>\u30bb\u30c3\u30b7\u30e7\u30f3\u8a73\u7d30\u306e\u8868\u793a <pre><code>&gt; show pppoe interfaces detail\npp0.0 Index 77\n  State: Session up, Session ID: 31601,\n  Service name: None,\n  Session AC name: BAS, Configured AC name: None,\n  Remote MAC address: 00:00:5e:00:53:23,\n  Session uptime: 1w6d 20:30 ago,\n  Auto-reconnect timeout: 10 seconds, Idle timeout: Never,\n  Underlying interface: ge-0/0/0.0 Index 76\n  Ignore End-of-List tag: Disable\n  PPP-Max-Payload tag: 1492\n</code></pre> pp0 \u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u8a73\u7d30\u306e\u8868\u793a <pre><code>&gt; show interfaces pp0\nPhysical interface: pp0, Enabled, Physical link is Up\n  Interface index: 129, SNMP ifIndex: 501\n  Type: PPPoE, Link-level type: PPPoE, MTU: 1532\n  Device flags   : Present Running\n  Interface flags: Point-To-Point SNMP-Traps\n  Link type      : Full-Duplex\n  Link flags     : None\n  Input rate     : 2312 bps (5 pps)\n  Output rate    : 53720 bps (5 pps)\n\n  Logical interface pp0.0 (Index 77) (SNMP ifIndex 538)\n    Flags: Up Point-To-Point SNMP-Traps 0x0 Encapsulation: PPPoE\n    PPPoE:\n      State: SessionUp, Session ID: 31601,\n      Session AC name: BAS, Remote MAC address: 00:00:5e:00:53:23,\n      Configured AC name: None, Service name: None,\n      Auto-reconnect timeout: 10 seconds, Idle timeout: Never,\n      Underlying interface: ge-0/0/0.0 (Index 76)\n      Ignore End-Of-List tag: Disable\n      PPP-Max-Payload tag: 1492\n    Input packets : 4924380\n    Output packets: 5158844\n  Keepalive settings: Interval 10 seconds, Up-count 1, Down-count 3\n  Keepalive: Input: 19937 (00:00:13 ago), Output: 119721 (00:00:01 ago)\n  LCP state: Opened\n  NCP state: inet: Opened, inet6: Not-configured, iso: Not-configured, mpls: Not-configured\n  CHAP state: Success\n  PAP state: Closed\n    Security: Zone: external-1\n    Allowed host-inbound traffic : ike ping\n    Protocol inet, MTU: 1454\n    Max nh cache: 0, New hold nh limit: 0, Curr nh cnt: 0, Curr new hold cnt: 0, NH drop cnt: 0\n      Flags: Sendbcast-pkt-to-re, User-MTU, Negotiate-Address\n      Addresses, Flags: Kernel Is-Preferred Is-Primary\n        Destination: 192.0.2.1, Local: 192.0.2.75\n</code></pre></p>"},{"location":"srx/nat/destination-nat/","title":"Destination NAT","text":"<p>Destination NAT \u306f\u5b9b\u5148\u30a2\u30c9\u30ec\u30b9\u306e\u5909\u63db\u3092\u884c\u3044\u307e\u3059\u3002 \u30d7\u30e9\u30a4\u30d9\u30fc\u30c8 IP \u30a2\u30c9\u30ec\u30b9\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d0\u30fc\u3092\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306b\u516c\u958b\u3059\u308b\u969b\u306a\u3069\u306b\u4f7f\u7528\u3055\u308c\u308b NAT \u3067\u3059\u3002</p> <p></p>"},{"location":"srx/nat/destination-nat/#_1","title":"\u5358\u4e00\u30a2\u30c9\u30ec\u30b9\u306e\u5909\u63db\u306e\u5834\u5408","text":"<p>\u30dd\u30fc\u30c8\u306e\u5909\u63db\u3092\u884c\u308f\u306a\u30441\u5bfe1\u306e Destination NAT \u306e\u8a2d\u5b9a\u3067\u3059\u3002 172.17.42.1 \u3067\u53d7\u4fe1\u3057\u305f\u30d1\u30b1\u30c3\u30c8\u3092 10.0.0.2 \u306e\u30b5\u30fc\u30d0\u30fc\u306b\u8ee2\u9001\u3057\u307e\u3059\u3002</p>"},{"location":"srx/nat/destination-nat/#_2","title":"\u8a2d\u5b9a\u30b5\u30f3\u30d7\u30eb","text":"<pre><code>set security address-book global address SERVER1 10.0.0.2/32\nset security nat destination pool DstPool1 address 10.0.0.2/32\nset security nat destination rule-set DstNat-RS1 from zone untrust\nset security nat destination rule-set DstNat-RS1 rule DstNatR1 match destination-address 172.17.42.1/32\nset security nat destination rule-set DstNat-RS1 rule DstNatR1 then destination-nat pool DstPool1\nset security policies from-zone untrust to-zone trust policy SERVER1-ACCESS match source-address any\nset security policies from-zone untrust to-zone trust policy SERVER1-ACCESS match destination-address SERVER1\nset security policies from-zone untrust to-zone trust policy SERVER1-ACCESS match application any\nset security policies from-zone untrust to-zone trust policy SERVER1-ACCESS then permit\nset security zones security-zone trust host-inbound-traffic system-services ping\nset security zones security-zone trust interfaces ge-0/0/0.0\nset security zones security-zone untrust host-inbound-traffic system-services ping\nset security zones security-zone untrust interfaces ge-0/0/1.0\nset interfaces ge-0/0/0 unit 0 family inet address 10.0.0.1/24\nset interfaces ge-0/0/1 unit 0 family inet address 172.17.42.1/24\n</code></pre>"},{"location":"srx/nat/destination-nat/#_3","title":"\u8aac\u660e","text":"<p>\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e IP \u30a2\u30c9\u30ec\u30b9\u3084\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a\u306f\u7701\u7565\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>Destination NAT \u306e\u5b9b\u5148\u30d7\u30fc\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 <pre><code>set security nat destination pool DstPool1 address 10.0.0.2/32\n</code></pre></p> <p>\u5b9b\u5148\u30eb\u30fc\u30eb\u30bb\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002from \u306b\u306f interface, routing-instance \u3082\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002 <pre><code>set security nat destination rule-set DstNat-RS1 from zone untrust\n</code></pre></p> <p>\u3069\u306e\u30a2\u30c9\u30ec\u30b9\u5b9b\u3066\u306e\u30d1\u30b1\u30c3\u30c8\u306b NAT \u3092\u9069\u7528\u3059\u308b\u304b\u306e\u30eb\u30fc\u30eb\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 <pre><code>set security nat destination rule-set DstNat-RS1 rule DstNatR1 match destination-address 172.17.42.1/32\nset security nat destination rule-set DstNat-RS1 rule DstNatR1 then destination-nat pool DstPool1\n</code></pre></p> <p>\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9\u30d6\u30c3\u30af\u3092\u4f5c\u6210\u3057\u300110.0.0.2/32 \u306e\u30a2\u30c9\u30ec\u30b9\u3092 SERVER1 \u3068\u3044\u3046\u540d\u524d\u3067\u767b\u9332\u3057\u307e\u3059\u3002 <pre><code>set security address-book global address SERVER1 10.0.0.2/32\n</code></pre></p> <p>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30dd\u30ea\u30b7\u30fc\u3067 SERVER1 \u5b9b\u3066\u306e\u901a\u4fe1\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002 <pre><code>set security policies from-zone untrust to-zone trust policy server-access match source-address any\nset security policies from-zone untrust to-zone trust policy server-access match destination-address SERVER1\nset security policies from-zone untrust to-zone trust policy server-access match application any\nset security policies from-zone untrust to-zone trust policy server-access then permit\n</code></pre></p>"},{"location":"srx/nat/destination-nat/#arp","title":"\u30d7\u30ed\u30ad\u30b7 ARP \u306b\u3064\u3044\u3066","text":"<p>\u81ea\u5206\u306e\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 IP \u5b9b\u3066\u306e\u901a\u4fe1\u306e\u5834\u5408\u306f\u5fc5\u8981\u3042\u308a\u307e\u305b\u3093\u304c\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u76f4\u63a5\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044 IP \u30a2\u30c9\u30ec\u30b9\u5b9b\u3066\u306e\u30d1\u30b1\u30c3\u30c8\u306b NAT \u3092\u884c\u3044\u305f\u3044\u5834\u5408\u3001ARP \u306b\u5fdc\u7b54\u3059\u308b\u305f\u3081\u306b\u30d7\u30ed\u30ad\u30b7 ARP \u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u4f8b\u3048\u3070\u3001ge-0/0/1 \u304c 172.17.42.1/24 \u3092\u6301\u3063\u3066\u304a\u308a\u3001172.17.42.10 \u5b9b\u3066\u306e\u30d1\u30b1\u30c3\u30c8\u306b Destination NAT \u3092\u884c\u3046\u5834\u5408\u3001\u6b21\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002 <pre><code>set proxy-arp interface ge-0/0/1.0 address 172.17.42.10/32\n</code></pre></p>"},{"location":"srx/nat/destination-nat/#_4","title":"\u30dd\u30fc\u30c8\u756a\u53f7\u306b\u5fdc\u3058\u3066\u30a2\u30c9\u30ec\u30b9\u306e\u5909\u63db\u3092\u884c\u3046\u5834\u5408\uff08\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c9\uff09","text":"<p>\u53d7\u4fe1\u30d1\u30b1\u30c3\u30c8\u306e\u30dd\u30fc\u30c8\u756a\u53f7\u306b\u5fdc\u3058\u3066\u3001Destination NAT \u306e\u5b9b\u5148\u3092\u5909\u66f4\u3059\u308b\u8a2d\u5b9a\u3002 \u30d1\u30d6\u30ea\u30c3\u30af IP \u30a2\u30c9\u30ec\u30b9\u304c1\u3064\u3057\u304b\u306a\u3044\u5834\u5408\u3067\u3082\u3001ssh \u3084 web \u306a\u3069\u30b5\u30fc\u30d3\u30b9\u3054\u3068\u306b\u5225\u3005\u306e\u30b5\u30fc\u30d0\u30fc\u306b\u63a5\u7d9a\u3092\u884c\u3046\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002</p> <p></p>"},{"location":"srx/nat/destination-nat/#_5","title":"\u8a2d\u5b9a\u30b5\u30f3\u30d7\u30eb","text":"<pre><code>set security address-book global address SERVER1 10.0.0.2/32\nset security address-book global address SERVER2 10.0.0.3/32\nset security nat destination pool DstPool1 address 10.0.0.2/32\nset security nat destination pool DstPool2 address 10.0.0.3/32\nset security nat destination rule-set DstNat-RS1 from zone untrust\nset security nat destination rule-set DstNat-RS1 rule DstNatR1 match destination-address 172.17.42.1/32\nset security nat destination rule-set DstNat-RS1 rule DstNatR1 match destination-port 80\nset security nat destination rule-set DstNat-RS1 rule DstNatR1 then destination-nat pool DstPool1\nset security nat destination rule-set DstNat-RS1 rule DstNatR2 match destination-address 172.17.42.1/32\nset security nat destination rule-set DstNat-RS1 rule DstNatR2 match destination-port 22\nset security nat destination rule-set DstNat-RS1 rule DstNatR2 then destination-nat pool DstPool2\nset security policies from-zone untrust to-zone trust policy SERVER1-ACCESS match source-address any\nset security policies from-zone untrust to-zone trust policy SERVER1-ACCESS match destination-address SERVER1\nset security policies from-zone untrust to-zone trust policy SERVER1-ACCESS match application junos-http\nset security policies from-zone untrust to-zone trust policy SERVER1-ACCESS then permit\nset security policies from-zone untrust to-zone trust policy SERVER2-ACCESS match source-address any\nset security policies from-zone untrust to-zone trust policy SERVER2-ACCESS match destination-address SERVER2\nset security policies from-zone untrust to-zone trust policy SERVER2-ACCESS match application junos-ssh\nset security policies from-zone untrust to-zone trust policy SERVER2-ACCESS then permit\nset security zones security-zone trust host-inbound-traffic system-services all\nset security zones security-zone trust interfaces ge-0/0/0.0\nset security zones security-zone untrust host-inbound-traffic system-services all\nset security zones security-zone untrust interfaces ge-0/0/1.0\nset interfaces ge-0/0/0 unit 0 family inet address 10.0.0.1/24\nset interfaces ge-0/0/1 unit 0 family inet address 172.17.42.1/24\n</code></pre>"},{"location":"srx/nat/destination-nat/#destination-nat_1","title":"Destination NAT \u306e\u78ba\u8a8d","text":"<p>\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u30dd\u30ea\u30b7\u30fc\u304c\u9069\u7528\u3055\u308c\u3066\u3044\u308b\u304b\u306e\u78ba\u8a8d\u306b\u306f <code>show security flow session nat</code> \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <pre><code>root&gt; show security flow session nat    \nSession ID: 172220, Policy name: SERVER1-ACCESS/4, Timeout: 298, Session State: Valid\n  In: 172.17.42.2/41954 --&gt; 172.17.42.1/80;tcp, Conn Tag: 0x0, If: ge-0/0/1.0, Pkts: 6, Bytes: 1145, \n  Out: 10.0.0.2/80 --&gt; 172.17.42.2/41954;tcp, Conn Tag: 0x0, If: ge-0/0/0.0, Pkts: 6, Bytes: 3881, \nTotal sessions: 1\n</code></pre> <p>In \u306f\u30eb\u30fc\u30bf\u30fc\u304c\u53d7\u4fe1\u3057\u305f\u30d1\u30b1\u30c3\u30c8\u3001Out \u306f\u623b\u308a\u306e\u30d1\u30b1\u30c3\u30c8\u3092\u8868\u3057\u307e\u3059\u3002</p> <p>\u30dd\u30ea\u30b7\u30fc\u306e\u78ba\u8a8d\u306f\u3001<code>show security nat destination rule all</code> \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <pre><code>root&gt; show security nat destination rule all       \nTotal destination-nat rules: 1\nTotal referenced IPv4/IPv6 ip-prefixes: 1/0\nDestination NAT rule: DstNatR1\n  Rule set                   : DstNat-RS1\n  Rule Id                    : 1\n  Rule position              : 1\n  From zone                  : untrust\n    Destination addresses    : 172.17.42.1     - 172.17.42.1\n  Action                     : DstPool1\n  Translation hits           : 3\n    Successful sessions      : 3\n  Number of sessions         : 0\n</code></pre> <p>\u30d7\u30fc\u30eb\u306e\u8a2d\u5b9a\u78ba\u8a8d\u306b\u306f\u3001<code>show security nat destination pool all</code> \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 <pre><code>root&gt; show security nat destination pool all       \nTotal destination-nat pools: 1\nPool name       : DstPool1\nPool id         : 1\nTotal address   : 1\nTranslation hits: 3\nAddress range                        Port \n       10.0.0.2 - 10.0.0.2              0\n</code></pre></p>"},{"location":"srx/nat/destination-nat/#_6","title":"\u53c2\u8003\u8cc7\u6599","text":"<p>https://www.juniper.net/documentation/jp/ja/software/junos/nat/topics/topic-map/security-nat-destination.html</p>"},{"location":"srx/nat/source-nat/","title":"Source NAT","text":"<p>Source NAT \u306f\u30eb\u30fc\u30bf\u30fc\u3092\u901a\u904e\u3059\u308b\u30d1\u30b1\u30c3\u30c8\u306e\u9001\u4fe1\u5143\u30a2\u30c9\u30ec\u30b9\u306e\u5909\u63db\u3092\u884c\u3044\u307e\u3059\u3002 SRX \u3067\u306f 1 \u5bfe 1 \u3067\u30a2\u30c9\u30ec\u30b9\u3092\u5909\u63db\u3059\u308b NAT\u30011 \u5bfe\u591a\u3001\u591a\u5bfe\u591a\u306e\u30a2\u30c9\u30ec\u30b9\u5909\u63db\u3092\u884c\u3046 pool NAT \u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002</p> <p></p>"},{"location":"srx/nat/source-nat/#nat","title":"\u30a8\u30b0\u30ec\u30b9\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 NAT","text":"<p>\u30a8\u30b0\u30ec\u30b9\uff08egress\uff09\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 NAT \u3067\u306f\u3001\u30eb\u30fc\u30bf\u30fc\u3092\u901a\u904e\u3057\u305f\u30d1\u30b1\u30c3\u30c8\u306e\u9001\u4fe1\u5143\u30a2\u30c9\u30ec\u30b9\u3092\u51fa\u529b\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u30a2\u30c9\u30ec\u30b9\u306b\u5909\u63db\u3057\u307e\u3059\u3002 \u30a8\u30b0\u30ec\u30b9\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 NAT \u3067\u306f\u30dd\u30fc\u30c8\u306e\u30a2\u30c9\u30ec\u30b9\u3082\u5909\u63db (NAPT) \u3055\u308c\u307e\u3059\u3002 \u5909\u63db\u306b\u4f7f\u7528\u3055\u308c\u308b\u30dd\u30fc\u30c8\u306f 1024-65535 \u3067\u3059\u3002</p>"},{"location":"srx/nat/source-nat/#_1","title":"\u8a2d\u5b9a\u30b5\u30f3\u30d7\u30eb","text":"<pre><code>set security nat source rule-set SrcNat-RS1 from zone trust\nset security nat source rule-set SrcNat-RS1 to zone untrust\nset security nat source rule-set SrcNat-RS1 rule SrcNatR1 match source-address 0.0.0.0/0\nset security nat source rule-set SrcNat-RS1 rule SrcNatR1 match destination-address 0.0.0.0/0\nset security nat source rule-set SrcNat-RS1 rule SrcNatR1 then source-nat interface\nset security policies from-zone trust to-zone untrust policy internet-access match source-address any\nset security policies from-zone trust to-zone untrust policy internet-access match destination-address any\nset security policies from-zone trust to-zone untrust policy internet-access match application any\nset security policies from-zone trust to-zone untrust policy internet-access then permit\nset security zones security-zone trust host-inbound-traffic system-services ping\nset security zones security-zone trust interfaces ge-0/0/1.0\nset security zones security-zone untrust host-inbound-traffic system-services ping\nset security zones security-zone untrust interfaces ge-0/0/0.0\nset interfaces ge-0/0/0 unit 0 family inet address 10.0.0.1/24\nset interfaces ge-0/0/1 unit 0 family inet address 172.17.42.1/24\n</code></pre>"},{"location":"srx/nat/source-nat/#_2","title":"\u8aac\u660e","text":"<p>\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e IP \u30a2\u30c9\u30ec\u30b9\u3084\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a\u306f\u7701\u7565\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u9001\u4fe1\u5143\u30eb\u30fc\u30eb\u30bb\u30c3\u30c8 <code>SrcNat-RS1</code> \u3092\u5b9a\u7fa9\u3057\u3001\u3069\u306e\u30be\u30fc\u30f3\u304b\u3089\u3069\u306e\u30be\u30fc\u30f3\u306e\u901a\u4fe1\u3078 NAT \u3092\u9069\u7528\u3059\u308b\u304b\u5b9a\u7fa9\u3057\u307e\u3059\u3002</p> <pre><code>set security nat source rule-set SrcNat-RS1 from zone trust\nset security nat source rule-set SrcNat-RS1 to zone untrust\n</code></pre> <p>NAT \u306e\u5bfe\u8c61\u3068\u3059\u308b\u30d1\u30b1\u30c3\u30c8\u306e\u9001\u4fe1\u5143\u3001\u5b9b\u5148\u3092\u6307\u5b9a\u3057\u3001\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e\u30a2\u30c9\u30ec\u30b9\u306b\u5909\u63db\u3059\u308b\u30eb\u30fc\u30eb <code>SrcNatR1</code> \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 <pre><code>set security nat source rule-set SrcNat-RS1 rule SrcNatR1 match source-address 0.0.0.0/0\nset security nat source rule-set SrcNat-RS1 rule SrcNatR1 match destination-address 0.0.0.0/0\nset security nat source rule-set SrcNat-RS1 rule SrcNatR1 then source-nat interface\n</code></pre></p> <p>trust \u304b\u3089 untrust \u30be\u30fc\u30f3\u3078\u306e\u8a31\u53ef\u30dd\u30ea\u30b7\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 <pre><code>set security policies from-zone trust to-zone untrust policy internet-access match source-address any\nset security policies from-zone trust to-zone untrust policy internet-access match destination-address any\nset security policies from-zone trust to-zone untrust policy internet-access match application any\nset security policies from-zone trust to-zone untrust policy internet-access then permit\n</code></pre></p>"},{"location":"srx/nat/source-nat/#11-pool-nat","title":"1\u5bfe1 Pool NAT","text":"<p>\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 NAT \u4ee5\u5916\u306e NAT \u3067\u306f\u30d7\u30fc\u30eb\u306e\u5b9a\u7fa9\u304c\u5fc5\u8981\u3067\u3059\u3002 \u30d7\u30fc\u30eb\u3092\u4f7f\u7528\u3059\u308b Source NAT \u3067\u306f\u3001\u30dd\u30fc\u30c8\u30a2\u30c9\u30ec\u30b9\u306e\u5909\u63db\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u3059\u304c\u3001\u884c\u308f\u306a\u3044\u8a2d\u5b9a\u304c\u53ef\u80fd\u3067\u3059\u3002 \u307e\u305f\u3001\u5909\u63db\u3057\u305f\u9001\u4fe1\u5143 IP \u30a2\u30c9\u30ec\u30b9\u306b\u5fdc\u7b54\u3059\u308b\u305f\u3081\u3001\u30d7\u30ed\u30ad\u30b7 APR \u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002</p> <p></p>"},{"location":"srx/nat/source-nat/#_3","title":"\u8a2d\u5b9a\u30b5\u30f3\u30d7\u30eb","text":"<pre><code>set security nat source pool src-nat-pool-1 address 10.0.0.12/32\nset security nat source rule-set RS1 from zone trust\nset security nat source rule-set RS1 to zone untrust\nset security nat source rule-set RS1 rule SNATR1 match source-address 0.0.0.0/0\nset security nat source rule-set RS1 rule SNATR1 match destination-address 0.0.0.0/0\nset security nat source rule-set RS1 rule SNATR1 then source-nat pool src-nat-pool-1\nset security nat proxy-arp interface ge-0/0/0.0 address 10.0.0.12/32\nset security policies from-zone trust to-zone untrust policy nat match source-address any\nset security policies from-zone trust to-zone untrust policy nat match destination-address any\nset security policies from-zone trust to-zone untrust policy nat match application any\nset security policies from-zone trust to-zone untrust policy nat then permit\nset security zones security-zone trust host-inbound-traffic system-services ping\nset security zones security-zone trust interfaces ge-0/0/1.0\nset security zones security-zone untrust host-inbound-traffic system-services ping\nset security zones security-zone untrust interfaces ge-0/0/0.0\nset interfaces ge-0/0/0 unit 0 family inet address 10.0.0.1/24\nset interfaces ge-0/0/1 unit 0 family inet address 172.17.42.1/24\n</code></pre>"},{"location":"srx/nat/source-nat/#_4","title":"\u8aac\u660e","text":"<p>\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9 NAT \u3068\u306e\u9055\u3044\u306e\u307f\u8a18\u8f09\u3057\u307e\u3059\u3002</p> <p>\u5909\u63db\u3059\u308b\u30a2\u30c9\u30ec\u30b9\u306e\u30d7\u30fc\u30eb <code>src-nat-pool-1</code> \u3092\u4f5c\u6210\u3057\u3066\u3044\u307e\u3059\u3002 <pre><code>set security nat source pool src-nat-pool-1 address 10.0.0.12/32\n</code></pre></p> <p>NAT \u30eb\u30fc\u30eb\u306b\u30d7\u30fc\u30eb\u3092\u4f7f\u7528\u3059\u308b\u6307\u5b9a\u3092\u3057\u307e\u3059\u3002 <pre><code>set security nat source rule-set RS1 rule SNATR1 then source-nat pool src-nat-pool-1\n</code></pre></p> <p>\u30d7\u30ed\u30ad\u30b7 ARP \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 <pre><code>set security nat proxy-arp interface ge-0/0/0.0 address 10.0.0.12/32\n</code></pre></p> <p>(\u30dd\u30fc\u30c8\u5909\u63db\u3092\u884c\u308f\u306a\u3044\u5834\u5408) \u5229\u7528\u3067\u304d\u308b\u30a2\u30c9\u30ec\u30b9\u304c\u6975\u7aef\u306b\u5c11\u306a\u304f\u306a\u308b\u305f\u3081\u901a\u5e38\u306f\u4f7f\u7528\u3057\u307e\u305b\u3093\u304c\u3001\u30dd\u30fc\u30c8\u5909\u63db\u3092\u3057\u306a\u3044\u5834\u5408\u306b\u306f\u30d7\u30fc\u30eb\u8a2d\u5b9a\u306b port no-tranlation \u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 <pre><code>set security nat source pool src-nat-pool-1 port no-translation\n</code></pre></p>"},{"location":"srx/nat/source-nat/#source-nat_1","title":"Source NAT \u306e\u78ba\u8a8d","text":"<p>\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u30dd\u30ea\u30b7\u30fc\u304c\u9069\u7528\u3055\u308c\u3066\u3044\u308b\u304b\u306e\u78ba\u8a8d\u306b\u306f <code>show security flow session nat</code> \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <pre><code>root@vSRX&gt; show security flow session nat    \nSession ID: 2122, Policy name: nat/4, Timeout: 298, Session State: Valid\n  In: 172.17.42.2/47612 --&gt; 10.0.0.2/80;tcp, Conn Tag: 0x0, If: ge-0/0/1.0, Pkts: 7, Bytes: 1188, \n  Out: 10.0.0.2/80 --&gt; 10.0.0.1/22745;tcp, Conn Tag: 0x0, If: ge-0/0/0.0, Pkts: 6, Bytes: 3881, \nTotal sessions: 1\n</code></pre> <p>In \u306f\u30eb\u30fc\u30bf\u30fc\u304c\u53d7\u4fe1\u3057\u305f NAT \u524d\u306e\u30d1\u30b1\u30c3\u30c8\u3001Out \u306f\u623b\u308a\u306e\u30d1\u30b1\u30c3\u30c8\u3092\u8868\u3057\u307e\u3059\u3002</p> <p>\u30dd\u30ea\u30b7\u30fc\u306e\u78ba\u8a8d\u306f\u3001<code>show security nat source rule all</code> \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <pre><code>root&gt; show security nat source rule all\nTotal rules: 1\nTotal referenced IPv4/IPv6 ip-prefixes: 2/0\nsource NAT rule: SrcNatR1                                           # \u30eb\u30fc\u30eb\u540d\n  Rule set                   : SrcNat-RS1                           # \u30eb\u30fc\u30eb\u30bb\u30c3\u30c8\u540d\n  Rule Id                    : 1\n  Rule position              : 1\n  From zone                  : trust                                # \u9001\u4fe1\u5143\u30be\u30fc\u30f3 \n  To zone                    : untrust                              # \u5b9b\u5148\u30be\u30fc\u30f3\n  Match\n    Source addresses         : 0.0.0.0         - 255.255.255.255\n    Destination addresses    : 0.0.0.0         - 255.255.255.255\n  Action                        : interface\n    Persistent NAT type         : N/A\n    Persistent NAT mapping type : address-port-mapping              # \u30a2\u30c9\u30ec\u30b9\u30dd\u30fc\u30c8\u5909\u63db\n    Inactivity timeout          : 0\n    Max session number          : 0\n    Persistent NAT block session: disabled\n  Translation hits           : 10                                   # \u30d2\u30c3\u30c8\u6570\n    Successful sessions      : 10\n  Number of sessions         : 0                                    # \u30bb\u30c3\u30b7\u30e7\u30f3\u6570\n</code></pre>"},{"location":"srx/nat/source-nat/#_5","title":"\u53c2\u8003\u8cc7\u6599","text":"<p>https://www.juniper.net/documentation/jp/ja/software/junos/nat/topics/topic-map/nat-security-source-and-source-pool.html</p>"},{"location":"srx/nat/static-nat/","title":"Static NAT","text":"<p>Static NAT \u306f\u30b0\u30ed\u30fc\u30d0\u30eb IP \u30a2\u30c9\u30ec\u30b9\u3092\u30ed\u30fc\u30ab\u30eb IP \u30a2\u30c9\u30ec\u30b9\u306b 1:1 \u3067\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u307e\u3059\u3002 Static NAT \u3067\u306f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u3069\u3061\u3089\u5074\u304b\u3089\u3082\u63a5\u7d9a\u3092\u958b\u59cb\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002 \u4e3b\u306b\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u304b\u3089\u30ed\u30fc\u30ab\u30eb\u30a2\u30c9\u30ec\u30b9\u306e\u30b5\u30fc\u30d0\u30fc\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3084\u3001\u30b5\u30d6\u30cd\u30c3\u30c8\u3092\u5909\u63db\u3059\u308b\u969b\u306b\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002</p> <p></p> <p>Junos \u3067\u306f\u8907\u6570\u30eb\u30fc\u30eb\u306b\u30de\u30c3\u30c1\u3059\u308b\u8a2d\u5b9a\u304c\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001Static NAT \u306f Destination NAT \u3088\u308a\u3082\u512a\u5148\u3055\u308c\u3001\u623b\u308a\u306e\u30d1\u30b1\u30c3\u30c8\u306b\u3064\u3044\u3066\u3082 Source NAT \u3088\u308a\u512a\u5148\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"srx/nat/static-nat/#11","title":"1:1 \u306e\u30a2\u30c9\u30ec\u30b9\u306e\u5909\u63db\u306e\u5834\u5408","text":"<p>\u4e0a\u56f3\u306e PC \u304b\u3089\u306e <code>172.17.42.1</code> \u5b9b\u3066\u306e\u901a\u4fe1\u3092 <code>10.0.0.2</code> \u306b\u5909\u63db\u3059\u308b\u5834\u5408\u306e NAT \u3067\u3059\u3002 \u53cc\u65b9\u5411\u306b\u5909\u63db\u3055\u308c\u308b\u305f\u3081\u3001\u30b5\u30fc\u30d0\u30fc\u767a\u306e\u901a\u4fe1\u306e\u5834\u5408\u3001\u9001\u4fe1\u5143 IP \u30a2\u30c9\u30ec\u30b9\u304c\u5909\u63db\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"srx/nat/static-nat/#_1","title":"\u8a2d\u5b9a\u30b5\u30f3\u30d7\u30eb","text":"<pre><code>set security address-book global address SERVER1 10.0.0.2/32\nset security nat static rule-set StaticNat-RS1 from zone untrust\nset security nat static rule-set StaticNat-RS1 rule StaticNatR1 match destination-address 172.17.42.1/32\nset security nat static rule-set StaticNat-RS1 rule StaticNatR1 then static-nat prefix 10.0.0.2/32\nset security policies from-zone untrust to-zone trust policy server-1 match source-address any\nset security policies from-zone untrust to-zone trust policy server-1 match destination-address SERVER1\nset security policies from-zone untrust to-zone trust policy server-1 match application any\nset security policies from-zone untrust to-zone trust policy server-1 then permit\nset security policies from-zone trust to-zone untrust policy default-permit match source-address any\nset security policies from-zone trust to-zone untrust policy default-permit match destination-address any\nset security policies from-zone trust to-zone untrust policy default-permit match application any\nset security policies from-zone trust to-zone untrust policy default-permit then permit\nset security zones security-zone trust host-inbound-traffic system-services all\nset security zones security-zone trust interfaces ge-0/0/1.0\nset security zones security-zone untrust host-inbound-traffic system-services all\nset security zones security-zone untrust interfaces ge-0/0/0.0\nset interfaces ge-0/0/0 unit 0 family inet address 172.17.42.1/24\nset interfaces ge-0/0/1 unit 0 family inet address 10.0.0.1/24\n</code></pre>"},{"location":"srx/nat/static-nat/#_2","title":"\u8aac\u660e","text":"<p>\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306e IP \u30a2\u30c9\u30ec\u30b9\u3084\u30be\u30fc\u30f3\u306e\u8a2d\u5b9a\u306f\u7701\u7565\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>\u5b9b\u5148\u30eb\u30fc\u30eb\u30bb\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 <pre><code>set security nat static rule-set StaticNat-RS1 from zone untrust\n</code></pre></p> <p>\u3069\u306e\u30a2\u30c9\u30ec\u30b9\u5b9b\u3066\u306e\u30d1\u30b1\u30c3\u30c8\u306b NAT \u3092\u9069\u7528\u3059\u308b\u304b\u306e\u30eb\u30fc\u30eb\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 <pre><code>set security nat static rule-set StaticNat-RS1 rule StaticNatR1 match destination-address 172.17.42.1/32\nset security nat static rule-set StaticNat-RS1 rule StaticNatR1 then static-nat prefix 10.0.0.2/32\n</code></pre></p> <p>\u30b0\u30ed\u30fc\u30d0\u30eb\u30a2\u30c9\u30ec\u30b9\u30d6\u30c3\u30af\u3092\u4f5c\u6210\u3057\u300110.0.0.2/32 \u306e\u30a2\u30c9\u30ec\u30b9\u3092 SERVER1 \u3068\u3044\u3046\u540d\u524d\u3067\u767b\u9332\u3057\u307e\u3059\u3002 <pre><code>set security address-book global address SERVER1 10.0.0.2/32\n</code></pre></p> <p>\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30dd\u30ea\u30b7\u30fc\u3067 SERVER1 \u5b9b\u3066\u306e\u901a\u4fe1\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002 <pre><code>set security policies from-zone untrust to-zone trust policy server-1 match source-address any\nset security policies from-zone untrust to-zone trust policy server-1 match destination-address SERVER1\nset security policies from-zone untrust to-zone trust policy server-1 match application any\nset security policies from-zone untrust to-zone trust policy server-1 then permit\n</code></pre></p> <p>\u3053\u3053\u3067\u306f\u30b5\u30fc\u30d0\u30fc\u304b\u3089 PC \u5b9b\u3066\u306e\u63a5\u7d9a\u3082\u8a31\u53ef\u3057\u3066\u3044\u307e\u3059\u3002 <pre><code>set security policies from-zone trust to-zone untrust policy default-permit match source-address any\nset security policies from-zone trust to-zone untrust policy default-permit match destination-address any\nset security policies from-zone trust to-zone untrust policy default-permit match application any\nset security policies from-zone trust to-zone untrust policy default-permit then permit\n</code></pre></p> <p>\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u308b IP \u4ee5\u5916\u5b9b\u3066\u306e\u30d1\u30b1\u30c3\u30c8\u306e\u5834\u5408\u3001ProxyArp \u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002 \u5fc5\u8981\u306b\u5fdc\u3058\u3066\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 <pre><code>set security nat proxy-arp interface ge-0/0/0.0 address 172.17.42.100\n</code></pre></p>"},{"location":"srx/nat/static-nat/#static-nat_1","title":"Static NAT \u306e\u78ba\u8a8d","text":"<p>\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u30dd\u30ea\u30b7\u30fc\u304c\u9069\u7528\u3055\u308c\u3066\u3044\u308b\u304b\u306e\u78ba\u8a8d\u306b\u306f <code>show security flow session nat</code> \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002</p> <p><pre><code>root&gt; show security flow session nat\nSession ID: 685, Policy name: server-1/6, Timeout: 2, Session State: Valid\n  In: 172.17.42.2/1 --&gt; 172.17.42.1/39;icmp, Conn Tag: 0x0, If: ge-0/0/0.0, Pkts: 1, Bytes: 60,\n  Out: 10.0.0.2/39 --&gt; 172.17.42.2/1;icmp, Conn Tag: 0x0, If: ge-0/0/1.0, Pkts: 1, Bytes: 60,\nTotal sessions: 1\n</code></pre> In \u306f\u30eb\u30fc\u30bf\u30fc\u304c\u53d7\u4fe1\u3057\u305f\u30d1\u30b1\u30c3\u30c8\u3001Out \u306f\u623b\u308a\u306e\u30d1\u30b1\u30c3\u30c8\u3092\u8868\u3057\u307e\u3059\u3002</p> <p>\u30dd\u30ea\u30b7\u30fc\u306e\u78ba\u8a8d\u306f\u3001<code>show security nat destination rule all</code> \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 <pre><code>root&gt; show security nat static rule all\nTotal static-nat rules: 1\nTotal referenced IPv4/IPv6 ip-prefixes: 2/0\nStatic NAT rule: StaticNatR1\n  Rule set                   : StaticNat-RS1\n  Rule Id                    : 1\n  Rule position              : 1\n  From zone                  : untrust\n  Destination addresses      : 172.17.42.1\n  Host addresses             : 10.0.0.2\n  Netmask                    : 32\n  Host routing-instance      : N/A\n  Translation hits           : 29\n    Successful sessions      : 29\n  Number of sessions         : 0\n</code></pre></p>"},{"location":"srx/nat/static-nat/#_3","title":"\u53c2\u8003\u8cc7\u6599","text":"<p>https://www.juniper.net/documentation/jp/ja/software/junos/nat/topics/topic-map/security-nat-static.html</p>"},{"location":"srx/vsrx/vsrx-vsphere-installation/","title":"vSRX \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb for vSphere","text":""},{"location":"srx/vsrx/vsrx-vsphere-installation/#_1","title":"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9","text":"<p>Juniper \u306e\u30b5\u30dd\u30fc\u30c8\u30b5\u30a4\u30c8\u304b\u3089\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002 https://support.juniper.net/support/downloads/</p> <p></p> <p>\u30d0\u30fc\u30b8\u30e7\u30f3\u3084\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3092\u9078\u629e\u3057\u307e\u3059\u3002 \u203b \u7279\u306b\u7406\u7531\u304c\u306a\u3051\u308c\u3070 vSRX3.0 \u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002\u30c8\u30e9\u30a4\u30a2\u30eb\u30e9\u30a4\u30bb\u30f3\u30b9\u304c\u4ed8\u4e0e\u3055\u308c\u3066\u3044\u307e\u3059\u3002 </p> <p>EULA \u306b\u540c\u610f\u3059\u308b\u3068\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u7528\u306e URL \u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 </p>"},{"location":"srx/vsrx/vsrx-vsphere-installation/#_2","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>\u3053\u3053\u3067\u306f vSphere 7.0 \u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002</p> <p>OVF \u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e\u30c7\u30d7\u30ed\u30a4\u3092\u9078\u629e\u3057\u307e\u3059\u3002 </p> <p>\u30ed\u30fc\u30ab\u30eb\u30d5\u30a1\u30a4\u30eb\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3067\u3001\u5148\u306e\u624b\u9806\u3067\u5165\u624b\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002 </p> <p>\u4eee\u60f3\u30de\u30b7\u30f3\u540d\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 </p> <p>\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u30ea\u30bd\u30fc\u30b9\u3092\u9078\u629e\u3057\u307e\u3059\u3002 </p> <p>\u300c\u6b21\u3078\u300d\u3092\u9078\u629e\u3057\u307e\u3059\u3002 </p> <p>\u4f7f\u7528\u8a31\u8afe\u5951\u7d04\u66f8\u3092\u78ba\u8a8d\u3057\u3001\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u307e\u3059\u3002 </p> <p>\u4f7f\u7528\u3059\u308b\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u9078\u629e\u3057\u307e\u3059\u3002 </p> <p>\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u9078\u629e\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u8a2d\u5b9a\u3057\u305f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304c\u7ba1\u7406\u7528\u306e fxp0 \u306b\u306a\u308a\u307e\u3059\u3002 \u30c7\u30d7\u30ed\u30a4\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067 3 NIC \u304c\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002 </p> <p>\u8a2d\u5b9a\u3092\u78ba\u8a8d\u3057\u3001\u300c\u5b8c\u4e86\u300d\u3092\u9078\u629e\u3057\u307e\u3059\u3002 </p> <p>\u30c7\u30d7\u30ed\u30a4\u304c\u5b8c\u4e86\u3059\u308b\u3068\u3001\u8d77\u52d5\u524d\u306b\u4eee\u60f3\u30de\u30b7\u30f3\u8a2d\u5b9a\u306e\u7de8\u96c6\u3092\u884c\u3044\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067 3 \u3064\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c0\u30d7\u30bf\u304c\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u8ffd\u52a0\u3057\u307e\u3059\u3002 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c0\u30d7\u30bf\u306e\u30bf\u30a4\u30d7\u306f\u7d71\u4e00\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002SR-IOV \u306a\u3069\u7279\u6b8a\u306a\u5834\u5408\u3092\u9664\u3044\u3066\u3001VMXNET3 \u304c\u304a\u3059\u3059\u3081\u3067\u3059\u3002 </p> <p>\u307e\u305f\u3001CPU \u306f\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u4eee\u60f3\u5316\u306e\u8a2d\u5b9a\u3092\u884c\u3046\u306e\u304c\u63a8\u5968\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002 </p> <p>\u8d77\u52d5\u3059\u308b\u3068\u30ed\u30b0\u30a4\u30f3\u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u306a\u308a\u307e\u3059\u3002root\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3057\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3059\u3002 </p> <p>\u4ee5\u4e0a\u3067 vSRX \u306e\u30c7\u30d7\u30ed\u30a4\u306f\u5b8c\u4e86\u3067\u3059\u3002</p>"},{"location":"srx/vsrx/vsrx-vsphere-installation/#_3","title":"\u53c2\u8003\u8cc7\u6599","text":"<p>https://www.juniper.net/documentation/us/en/software/vsrx/vsrx-consolidated-deployment-guide/vsrx-vmware/topics/concept/security-vsrx-vmware-overview.html</p>"}]}